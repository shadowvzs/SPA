"use strict";var _createClass=function(){function l(o,g){for(var b,h=0;h<g.length;h++)b=g[h],b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(o,b.key,b)}return function(o,g,h){return g&&l(o.prototype,g),h&&l(o,h),o}}(),_slicedToArray=function(){function l(o,g){var h=[],b=!0,_=!1,w=void 0;try{for(var L,S=o[Symbol.iterator]();!(b=(L=S.next()).done)&&(h.push(L.value),!(g&&h.length===g));b=!0);}catch(E){_=!0,w=E}finally{try{!b&&S["return"]&&S["return"]()}finally{if(_)throw w}}return h}return function(o,g){if(Array.isArray(o))return o;if(Symbol.iterator in Object(o))return l(o,g);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_extends=Object.assign||function(l){for(var g,o=1;o<arguments.length;o++)for(var h in g=arguments[o],g)Object.prototype.hasOwnProperty.call(g,h)&&(l[h]=g[h]);return l},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l};function _classCallCheck(l,o){if(!(l instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperty(l,o,g){return o in l?Object.defineProperty(l,o,{value:g,enumerable:!0,configurable:!0,writable:!0}):l[o]=g,l}function _toConsumableArray(l){if(Array.isArray(l)){for(var o=0,g=Array(l.length);o<l.length;o++)g[o]=l[o];return g}return Array.from(l)}(function(){function w(){var Ae=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{range:{}},De=arguments[1],Me=void 0,Ne=void 0,je=void 0,Be=void 0,Fe=void 0,Ue=void 0,Ge=void 0,Re=void 0,ot=[],Oe=void 0,Ve=void 0,Ye=void 0,We=void 0,Je=["Mon","Tue","Wed","Tue","Fri","Sat","Sun"],Xe=void 0,Ze=void 0,Qe=void 0,$e=["Day","Month","Year","YearStack","reserved","Event"],et=["January","February","March","April","May","June","July","August","September","October","November","December"],tt={window:function window(st){return"<div class=\"ev-cal\" id=\"cal_"+st+"\" style=\"display:none;\"></div>"},content:"<div class=\"head\"><div>\n\t\t\t\t<a class=\"prev-index\" href=\"*\" data-action=\"component/"+Ae.name+"/prevButton\">&#8249;</a>\n\t\t\t\t<p class=\"view-mode\" href=\"*\" data-action=\"component/"+Ae.name+"/increaseViewButton\"></p>\n\t\t\t\t<a class=\"next-index\" href=\"*\" data-action=\"component/"+Ae.name+"/nextButton\">&#8250;</a>\n\t\t\t\t<a class=\"close\" href=\"*\" data-action=\"toggle/cal_"+Ae.id+"\">&times;</a></div></div>\n\t\t\t\t</div></div><div class=\"body\"></div>",cell:function cell(st){return"<div class='cell'>"+st+"</div>"},subHead:function subHead(st){var ut="",_iteratorNormalCompletion22=!0,_didIteratorError22=!1,_iteratorError22=void 0;try{for(var mt,pt,ct=st[Symbol.iterator]();!(_iteratorNormalCompletion22=(mt=ct.next()).done);_iteratorNormalCompletion22=!0)pt=mt.value,ut+="<div class='cell'>"+pt+"</div>"}catch(gt){_didIteratorError22=!0,_iteratorError22=gt}finally{try{!_iteratorNormalCompletion22&&ct.return&&ct.return()}finally{if(_didIteratorError22)throw _iteratorError22}}return"<div class='subHead'><div class='row'>"+ut+"</div></div>"},events:function events(st){if(!st||1>st.length)return"<br>No event on this date";var ut="";return st.forEach(function(ct,mt){ut+="<div class='bubble'><h3 data-event="+mt+">"+ct.title+"</h3><p data-event="+mt+">"+ct.message+"</p><time>"+ct[We]+"</time></div>"}),ut},option:function option(st,ut){return"<option value=\""+st+"\">"+ut+"</option>"},newEventForm:"<div class=\"newEventForm\">\n\t\t\t\t<input type=\"text\" placeholder=\"Event title\" class=\"title\">\n\t\t\t\t<textarea placeholder=\"Event description\" class=\"message\"></textarea>\n\t\t\t\t<select></select>\n\t\t\t\t<input type=\"text\" class=\"time\" placeholder=\"Time hh:mm\" value=\"08:00\">\n\t\t\t\t<button href=\"*\" class=\"save\" data-action=\"component/"+Ae.name+"/saveButton\">Save</button>\n\t\t\t\t<button href=\"*\" class=\"remove\" data-action=\"component/"+Ae.name+"/deleteButton\">Delete</button>\n\t\t\t\t<div class=\"eventList\"></div>\n\t\t\t\t</div>"};function at(){if(0===Qe)Be.string=12===Be.month?Be.year+1+" 1 2 01:00:00":Be.year+" "+(Be.month+1)+" 02 01:00:00";else if(1===Qe)Be.string=Be.year+1+" 1 2 01:00:00";else if(2===Qe){var st=Oe;if(st==ot.length-1)return console.log("Year stack upperlimit reached");st++,Be.string=ot[st][0]+" 1 2 01:00:00",Oe=st}return Be.string.substr(0,4)>ot[ot.length-1][1]?console.log("date lowerlimit reached"):Be=Re["selectNew"+$e[Qe]](Be.string)}function he(st){st||0===st||(Oe=Fe.yearStackIndex);for(var ut=0,ct=ot.length;ut<ct&&!(ot[ut][0]>st);ut++)Oe=ut}function nt(){if(0===Qe)Be.string=1===Be.month?Be.year-1+" 12 2 01:00:00":Be.year+" "+(Be.month-1)+" 02 01:00:00";else if(1===Qe)Be.string=Be.year-1+" 1 2 01:00:00";else if(2===Qe){if(1>Oe)return console.log("Year stack lowerlimit reached");Oe--,Be.string=ot[Oe][0]+" 1 2 01:00:00"}return Be.string.substr(0,4)<ot[0][0]?console.log("date lowerlimit reached"):Be=Re["selectNew"+$e[Qe]](Be.string)}function ve(st){return st.split(/[- :]/)}function fe(st){return /^([0-1]?[0-9]|[2][0-3]):([0-5][0-9])(:[0-5][0-9])?$/.test(st)?4===st.length?"0"+st:st:""}function it(){var st=Xe.title.value.trim(),ut=Xe.message.value.trim(),ct=Ue.dataset.lastDate,mt=fe(Xe.time.value),pt=ve(ct).join("-")+" "+mt+":00",gt=parseInt(Xe.select.value,10),ht=_defineProperty({id:-1<gt&&Ye[gt]?Ye[gt].id:-1,title:st,message:ut},We,pt);return st&&ut&&mt?void De.post(Ze.add,{param:ht},function(vt){-1<gt?(Ye[gt].title=ht.title,Ye[gt].message=ht.message):(ht=_extends({},ht,vt.modelData),Le({list:[ht],key:We})),we(0,ct)},re):alert("Please fill the fields!")}function rt(){var st=parseInt(Xe.select.value,10),ut=Ue.dataset.lastDate,ct=ve(ut),mt=Ve;return-1!=st&&Ye[st]?void De.get(Ze.delete,{param:{id:Ye[st].id}},function(){var _iteratorNormalCompletion19=!0,_didIteratorError19=!1,_iteratorError19=void 0;try{for(var ht,vt,gt=ct[Symbol.iterator]();!(_iteratorNormalCompletion19=(ht=gt.next()).done);_iteratorNormalCompletion19=!0){if(vt=ht.value,vt=parseInt(vt,10),!mt[vt])return console.log("date not exist");mt=mt[vt],mt.count--}}catch(ft){_didIteratorError19=!0,_iteratorError19=ft}finally{try{!_iteratorNormalCompletion19&&gt.return&&gt.return()}finally{if(_didIteratorError19)throw _iteratorError19}}mt.list.splice(st,1),we(0,ut)},re):alert("Select an existing event what you want remove")}function ye(st){var ut=ve(st),ct=Ve,_iteratorNormalCompletion20=!0,_didIteratorError20=!1,_iteratorError20=void 0;try{for(var pt,gt,mt=ut[Symbol.iterator]();!(_iteratorNormalCompletion20=(pt=mt.next()).done);_iteratorNormalCompletion20=!0)if(gt=pt.value,gt=parseInt(gt,10),ct[gt])ct=ct[gt];else return console.log("no event at: "+st)}catch(ht){_didIteratorError20=!0,_iteratorError20=ht}finally{try{!_iteratorNormalCompletion20&&mt.return&&mt.return()}finally{if(_didIteratorError20)throw _iteratorError20}}return ct.list}function be(st){var ut=st.target,ct=ut.dataset.date;ct&&(0<Qe?Se(ct,st.target.dataset.yearStack):(Ge=new Date(ct),we(5,ct,ye(ct))))}function ke(st){var ut=parseInt(st.target.dataset.event,10);Ye[ut]&&(Xe.select.selectedIndex=ut+1,Xe.title.value=Ye[ut].title,Xe.message.value=Ye[ut].message)}function xe(){var st=Xe.select.value;Xe.title.value=-1<st?Ye[st].title:"",Xe.message.value=-1<st?Ye[st].message:""}function we(){var st=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,ut=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,ct=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return $e[st]?void(Qe!=st&&(Ne&&(Ne.innerHTML=""),Me.classList.remove("v"+$e[Qe])),Me.classList.add("v"+$e[st]),Be=Re["selectNew"+$e[st]](ut,ct),Qe=st):console.log("view mode not exist: "+st)}function dt(){5===Qe?we(0,Ue.dataset.lastDate):3>Qe&&we(Qe+1,Ue.dataset.lastDate)}function Se(st){var ut=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;we(Qe-1,st,ut)}function Le(st){var ct,mt,pt,ht,gt=void 0,vt=st.list,ft=st.key;We=ft,Ve||(Ve={});var _iteratorNormalCompletion21=!0,_didIteratorError21=!1,_iteratorError21=void 0;try{for(var bt,yt=vt[Symbol.iterator]();!(_iteratorNormalCompletion21=(bt=yt.next()).done);_iteratorNormalCompletion21=!0)if(gt=bt.value,!!gt[ft]){for(pt=ve(gt[ft]),ct=Ve,ht=0;ht<3;ht++)mt=parseInt(pt[ht],10),ct[mt]||(ct[mt]={}),ct=ct[mt],ct.count=ct.count?ct.count+1:1;ct.list||(ct.list=[]),ct.list.push(gt)}}catch(kt){_didIteratorError21=!0,_iteratorError21=kt}finally{try{!_iteratorNormalCompletion21&&yt.return&&yt.return()}finally{if(_didIteratorError21)throw _iteratorError21}}}function Ee(st){De.get(st.get,{},function(ut){Le({list:ut.modelData[0],key:ut.modelData[1]}),we(Qe)},function(ut){return ge.add(ut,"error")})}function Te(st,ut,ct){var Tt,mt=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"",pt=4<arguments.length&&void 0!==arguments[4]&&arguments[4],gt=document.createElement("div"),ht=["inactive",null,"selected"],vt=["cell"];if(gt.dataset.date=mt,!1!==pt&&(gt.dataset.yearStack=pt),ht[ct]&&vt.push(ht[ct]),Fe.string===mt&&vt.push("today"),Ve&&(ut||0===ut))if("object"===("undefined"==typeof ut?"undefined":_typeof(ut))){var yt=Ve,_iteratorNormalCompletion23=!0,_didIteratorError23=!1,_iteratorError23=void 0;try{for(var kt,xt,bt=ut[Symbol.iterator]();!(_iteratorNormalCompletion23=(kt=bt.next()).done);_iteratorNormalCompletion23=!0){if(xt=kt.value,!yt[xt]){yt=null;break}yt=yt[xt]}}catch(Ct){_didIteratorError23=!0,_iteratorError23=Ct}finally{try{!_iteratorNormalCompletion23&&bt.return&&bt.return()}finally{if(_didIteratorError23)throw _iteratorError23}}yt&&yt.count&&0<yt.count&&(gt.dataset.counter=yt.count)}else if("number"==typeof ut){var wt=ot[ut];if(wt){for(var St=0,Lt=wt[0],Et=wt[1],It=Lt;It<=Et;It++)Ve[It]&&Ve[It].count&&(St+=Ve[It].count);0<St&&(gt.dataset.counter=St)}}return gt.appendChild(document.createTextNode(st)),(Tt=gt.classList).add.apply(Tt,vt),gt}function Ce(){var st=document.createElement("div");return st.classList.add("row"),st}function ze(){var st=2<ie.role;Object.keys(Xe).forEach(function(ut){Xe[ut].style.display="list"===ut||st?"inline-block":"none"})}function lt(){Xe.list.removeEventListener("click",ke),Xe.select.removeEventListener("change",xe),Ne.removeEventListener("click",be)}return Re={selectNewDay:function selectNewDay(){var st=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,ut=void 0,mt=void 0,pt=void 0,gt=void 0,vt=0,ft=document.createDocumentFragment(),yt=void 0,bt=void 0,kt=void 0,xt=void 0,wt=void 0;for(Ne.innerHTML="",mt=st?new Date(st):new Date,mt.day=mt.getDate(),mt.month=mt.getMonth()+1,mt.year=mt.getFullYear(),mt.days=new Date(mt.year,mt.month,0).getDate(),mt.firstDay=new Date(mt.year,mt.month-1,1).getDay(),mt.lastDay=new Date(mt.year,mt.month,0).getDay(),he(mt.year),Ue.dataset.lastDate=mt.year+" "+mt.month+" "+mt.day+" 01:00:00",wt=new Date(mt.year,mt.month-2,1),0==mt.month&&(wt=new Date(mt.year-1,11,1)),wt=new Date(wt.getFullYear(),wt.getMonth()+1,0).getDate(),bt=wt-mt.firstDay-6,xt=mt.year,kt=1<bt?mt.month-1:mt.month,0==kt&&(kt=12,xt--),6<wt-bt&&(bt+=7),gt=0;gt<6;gt++){for(ut=Ce(),pt=0;7>pt;pt++)bt++,(bt>wt&&0==vt||bt>mt.days&&1==vt)&&(vt=0==vt?1:0,bt=1,11<kt&&(xt++,kt=0),kt++),yt=xt+" "+("0"+kt).slice(-2)+" "+("0"+bt).slice(-2),ut.appendChild(Te(bt,[xt,kt,bt],Fe.year===xt&&Fe.month===kt&&Fe.day===bt?2:vt,yt));ft.appendChild(ut)}return Ne.appendChild(ft),Ue.innerHTML=et[mt.month-1]+" "+mt.year,mt},selectNewMonth:function selectNewMonth(){var st=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,ut=void 0,mt=void 0,pt=void 0,gt=void 0,ht=0,vt=void 0,ft=void 0,yt=document.createDocumentFragment(),bt=void 0;for(Ne.innerHTML="",mt=st?new Date(st):new Date,mt.day=mt.getDate(),mt.month=mt.getMonth()+1,mt.year=mt.getFullYear(),ft=mt.year,Ue.dataset.lastDate=ft+" "+mt.month+" "+mt.day+" 01:00:00",he(ft),gt=0;4>gt;gt++){for(ut=Ce(),pt=0;3>pt;pt++)ht++,bt=ft+" "+ht+" 1",vt=Fe.year===ft&&Fe.month===ht?2:1,ut.appendChild(Te(et[ht-1],[ft,ht],vt,bt));yt.appendChild(ut)}return Ne.appendChild(yt),Ue.innerHTML=mt.year,mt},selectNewYear:function selectNewYear(){var st=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,ut=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,ct=void 0,pt=void 0,gt=void 0,ht=void 0,vt=0,ft=void 0,yt=void 0,bt=ut||Fe.yearStackIndex,kt=ot[bt][0],xt=ot[bt][1],wt=document.createDocumentFragment(),St=void 0;if(Ne.innerHTML="",Oe=ut,!kt||!xt)return console.log("invalid stack date");for(pt=st?new Date(st):new Date,pt.day=pt.getDate(),pt.month=pt.getMonth()+1,pt.year=pt.getFullYear(),yt=pt.year,Ue.dataset.lastDate=yt+" "+pt.month+" "+pt.day+" 01:00:00",he(yt),vt=kt,ht=0;12>ht;ht++){for(ct=Ce(),gt=0;3>gt&&!(vt>xt);gt++)St=vt+" "+1+" 1",ft=Fe.year===vt?2:1,ct.appendChild(Te(vt,[vt],ft,St)),vt++;wt.appendChild(ct)}return Ne.appendChild(wt),Ue.innerHTML=kt===xt?kt:kt+" - "+xt,pt},selectNewYearStack:function selectNewYearStack(){var st=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,ut=void 0,mt=void 0,pt=void 0,gt=void 0,ht=void 0,vt=void 0,yt=void 0,bt=ot.length,kt=document.createDocumentFragment(),xt=void 0;if(Ne.innerHTML="",0==bt)return console.log("year stack not defined");for(mt=st?new Date(st):new Date,mt.day=mt.getDate(),mt.month=mt.getMonth()+1,mt.year=mt.getFullYear(),Ue.dataset.lastDate=mt.year+" "+mt.month+" "+mt.day+" 01:00:00",ht=0,gt=0;12>gt;gt++){for(ut=Ce(),pt=0;3>pt&&!!ot[ht];pt++)xt=ot[ht][0]+" "+1+" 1",vt=Fe.yearStackIndex===ht?2:1,yt=ot[ht][0]===ot[ht][1]?ot[ht][0]:ot[ht][0]+" - "+ot[ht][1],ut.appendChild(Te(yt,ht,vt,xt,ht)),ht++;kt.appendChild(ut)}return Ne.appendChild(kt),Ue.innerHTML=ot[0][0]+" - "+ot[ot.length-1][1],mt},selectNewEvent:function selectNewEvent(){var st=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,ut=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,ct=void 0;if(ze(),Ue.innerHTML=st.split(" ").join(". ")+".",Ue.dataset.lastDate=st,Ye=ut,ct=tt.option(-1,"New"),ut)for(var mt=0,pt=ut.length;mt<pt;mt++)ct+=tt.option(mt,ut[mt].title);else Xe.title.value="",Xe.message.value="";Xe.select.innerHTML=ct,Xe.list.innerHTML=tt.events(ut)}},function(){var ut,ct,mt,pt,gt,vt,st=new Date,ht=Ae.show,ft=Ae.id;if(ht){var yt=ht.place?ht.place:"footer";document.body.querySelector(yt).insertAdjacentHTML("afterend",tt.window(ft))}for(Me=document.body.querySelector(".ev-cal#cal_"+ft),ht.position&&"middle"==ht.position&&Me.classList.add("middle"),Qe=Ae.viewMode||0,Me.classList.add("v"+$e[Qe]),Me.innerHTML=tt.content,je=Me.querySelector(".head"),Ue=je.querySelector(".view-mode"),Ne=Me.querySelector(".body"),Ne.addEventListener("click",be),je.insertAdjacentHTML("afterend",tt.subHead(Je)+tt.newEventForm),vt=Me.querySelector(".newEventForm"),Xe={time:vt.querySelector("input.time"),title:vt.querySelector("input.title"),message:vt.querySelector("textarea.message"),select:vt.querySelector("select"),save:vt.querySelector("button.save"),remove:vt.querySelector("button.remove"),list:vt.querySelector(".eventList")},Xe.list.addEventListener("click",ke),Xe.select.addEventListener("change",xe),Ze=Ae.datasource,Fe={day:st.getDate(),month:st.getMonth()+1,year:st.getFullYear(),yearStackIndex:null,string:st.getFullYear()+" "+(st.getMonth()+1)+" "+st.getDate()},Be=Fe,mt=Ae.range.min||Fe.year-71,pt=Ae.range.max||Fe.year+72,Ze&&Ee(Ze),ct=0,ut=mt;ut<=pt;ut+=12)gt=ut+12>pt?pt+1:ut+12,ot.push([ut,gt-1]),Fe.year>=ut&&Fe.year<gt+1&&(Fe.yearStackIndex=ct),ct++;Ze||we(Qe)}(),{nextButton:function nextButton(){at()},prevButton:function prevButton(){nt()},deleteButton:function deleteButton(){rt()},saveButton:function saveButton(){it()},increaseViewButton:function increaseViewButton(){dt()},dom:Me,remove:function remove(){lt()}}}function E(he){function ye(){Se.classList.remove("show")}function be(Le){var De,Me,Ee=Le.pageX,Ie=Le.pageY,Te=Se.offsetWidth,Ce=Se.offsetHeight,ze=document.body.clientWidth,Ae=document.body.clientHeight;Me=Ie+Ce>Ae?0<Ae-Ce?Ae-Ce:0:Ie,De=Ee+Te>ze?0<ze-Te?ze-Te:0:Ee,Se.style.top=Ie+"px",Se.style.left=(Ee+Te>ze?0<ze-Te?ze-Te:0:Ee)+"px",Se.classList.add("show"),Se.focus()}function ke(Le){for(;Se.firstChild;)Se.removeChild(Se.firstChild);if(Le){var Ie=document.createElement("ul"),_iteratorNormalCompletion28=!0,_didIteratorError28=!1,_iteratorError28=void 0;try{for(var Ce,ze,Te=Le[Symbol.iterator]();!(_iteratorNormalCompletion28=(Ce=Te.next()).done);_iteratorNormalCompletion28=!0)ze=Ce.value,Ee="url"==ze[2]?"href=\""+ze[1]+"\"":"href=\"*\" data-action=\"component/"+ze.splice(1).join("/")+"\"",Ie.insertAdjacentHTML("beforeend","<li "+Ee+">"+ze[0]+"</li>")}catch(Ae){_didIteratorError28=!0,_iteratorError28=Ae}finally{try{!_iteratorNormalCompletion28&&Te.return&&Te.return()}finally{if(_didIteratorError28)throw _iteratorError28}}Se.appendChild(Ie)}}var Se,xe=he.style.width||200,we="contextmenu_"+Date.now();return function(){Se=document.createElement("div"),Se.classList.add(he.className),Se.setAttribute("tabindex","-1"),Se.style.width=xe+"px",Se.textContent="asdas",Se.id=we,document.body.appendChild(Se),Se.addEventListener("blur",ye),Se.onclick=function(){setTimeout(ye,100)}}(),{getId:function getId(){return Se.id||!1},remove:function remove(){Se.removeEventListener("blur",ye)},action:function action(Le){var Ee=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];ke(Ee),be(Le),Le.preventDefault()}}}function I(he,ve){function ye(Ce,ze){2<arguments.length&&void 0!==arguments[2]&&arguments[2];return function(De){Ee.done.push(ze);var Me=Object.keys(Ee.progress),_iteratorNormalCompletion29=!0,_didIteratorError29=!1,_iteratorError29=void 0;try{for(var Ne,je,qe=Me[Symbol.iterator]();!(_iteratorNormalCompletion29=(Ne=qe.next()).done);_iteratorNormalCompletion29=!0)if(je=Ne.value,Ee.progress[je]===ze){Ee.progress.splice(je,1);break}}catch(Be){_didIteratorError29=!0,_iteratorError29=Be}finally{try{!_iteratorNormalCompletion29&&qe.return&&qe.return()}finally{if(_didIteratorError29)throw _iteratorError29}}Ce(De),we(),Ee.queue.length||Ee.progress.length||ke()}}function be(){if(!Ee.queue.length)return console.log("Nothing to push");for(var Ce=void 0,ze=Le.upload-Ee.progress.length,Ae=void 0,De=void 0,Me=0;Me<ze;Me++){if(!Ee.queue[0])return we();if(De=new FormData,Ce=Ee.queue.splice(0,1)[0],Ae=Ce.file,Ae.size>1024*Le.size){ge.add(Ae.name+" too large... Skipped!","error"),Me--;continue}if(De.append("image",Ae,Ae.name),Ce.data){var qe=Object.keys(Ce.data),_iteratorNormalCompletion30=!0,_didIteratorError30=!1,_iteratorError30=void 0;try{for(var je,Be,Ne=qe[Symbol.iterator]();!(_iteratorNormalCompletion30=(je=Ne.next()).done);_iteratorNormalCompletion30=!0)Be=je.value,De.append("param["+Be+"]",Ce.data[Be])}catch(Fe){_didIteratorError30=!0,_iteratorError30=Fe}finally{try{!_iteratorNormalCompletion30&&Ne.return&&Ne.return()}finally{if(_didIteratorError30)throw _iteratorError30}}}Ee.progress.push(Ae),Ee.done.length&&ke(),ve.file(Ce.url,De,ye(Ce.success,Ae,!0),ye(Ce.error,Ce,!1))}we()}function ke(){Ee.queue.length||Ee.progress.length?Ie.panel.classList.add("show"):setTimeout(function(){return Ie.panel.classList.remove("show")},1e3)}function xe(){Ie.headerText.textContent="Idle",Ie.headerDone.textContent=0,Ie.headerMax.textContent=0,Ie.mainText.textContent="Idle",Ie.mainText.dataset.value=0,Ie.bar.style.left="-100%"}function we(){var Ce=Ee.queue.length+Ee.done.length+Ee.progress.length;if(0==Ce)return xe();var ze=0<Ee.progress.length,Ae=Math.round(100*Ee.done.length/Ce);if(Ie.headerText.textContent=ze?"Uploading":"Uploaded",Ie.headerDone.textContent=Ee.done.length,Ie.headerMax.textContent=Ce,Ie.mainText.textContent=ze?"Uploading":"Uploaded",Ie.mainText.dataset.value=Ae,Ie.bar.style.left="-"+(100-Ae)+"%",Ee.progress.length<Le.upload)return be()}function Se(Ce){var ze=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,Me=arguments[2],Ae=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,De=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null;Ee.queue.length||Ee.progress.length||!(0<Ee.done.length)||(Ee.done=[],Ie.bar.style.left="-100%");var _iteratorNormalCompletion31=!0,_didIteratorError31=!1,_iteratorError31=void 0;try{for(var Ne,je,qe=Me[Symbol.iterator]();!(_iteratorNormalCompletion31=(Ne=qe.next()).done);_iteratorNormalCompletion31=!0)je=Ne.value,Ee.queue.push({url:Ce,data:ze,file:je,success:Ae,error:De})}catch(Be){_didIteratorError31=!0,_iteratorError31=Be}finally{try{!_iteratorNormalCompletion31&&qe.return&&qe.return()}finally{if(_didIteratorError31)throw _iteratorError31}}Ee.progress.length<Le.upload&&be()}var Le=he.limit,Ee={queue:[],done:[],progress:[]},Ie={},Te={main:"<header>\n\t\t\t\t\t\t<div class=\"title hide\"> <span class=\"text\">Upload</span> <span class='done'>0</span>/<span class='max'>0</span></div>\n\t\t\t\t\t\t<div class=\"minimize\" href=\"*\" data-action=\"component/"+he.name+"/toggleBar\">-</div>\n\t\t\t\t\t</header>\n\t\t\t\t\t<main>\n\t\t\t\t\t\t<p data-value=\"0\">Uploading</p>\n\t\t\t\t\t\t<div class=\"progress-container\">\n\t\t\t\t\t\t\t<div class=\"progress-bar\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</main>"};return function(){var Ce=document.createElement("div");Ce.classList.add("uploadPanel"),Ce.innerHTML=Te.main,document.body.appendChild(Ce),Ie.panel=Ce,Ie.title=Ie.panel.querySelector(".title"),Ie.headerText=Ie.title.querySelector(".text"),Ie.headerDone=Ie.title.querySelector(".done"),Ie.headerMax=Ie.title.querySelector(".max"),Ie.main=Ie.panel.querySelector("main"),Ie.mainText=Ie.panel.querySelector("p"),Ie.bar=Ie.panel.querySelector(".progress-bar")}(),{action:function action(Ce){var ze=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,Me=arguments[2],Ae=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,De=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null;Se(Ce,ze,Me,Ae,De)},getId:function getId(){return Ie.id||!1},remove:function remove(){Ie.panel.remove()},toggleBar:function toggleBar(){Ie.title.classList.toggle("hide"),Ie.main.classList.toggle("hide")}}}function z(he){function ve(je,Be){he.style.left=je+"px",he.style.top=Be+"px"}function fe(je){ze=je.clientX-Me,Ae=je.clientY-qe,Te=ze>Ee?Ee:0>ze?0:ze,Ce=Ae>Ie?Ie:0>Ae?0:Ae,ve(Te,Ce)}function ye(){xe.removeEventListener("mousemove",fe),xe.removeEventListener("mouseup",ye),Ne=!1}function be(je){Ne||(Ne=!0,xe.addEventListener("mousemove",fe),window.addEventListener("mouseup",ye),Me=je.clientX-he.offsetLeft,qe=je.clientY-he.offsetTop)}var ke=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;he="string"==typeof he?document.body.querySelector(he):he,ke="string"==typeof he?document.body.querySelector(ke||he):ke,ke.addEventListener("mousedown",be);var xe=document.body,we=document.documentElement,Se=he.offsetWidth,Le=he.offsetHeight,Ee=Math.max(xe.offsetWidth,we.offsetWidth)-Se,Ie=Math.max(xe.offsetHeight,we.offsetHeight)-Le,Te=void 0,Ce=void 0,ze=void 0,Ae=void 0,De=he.style.position,Me=void 0,qe=void 0,Ne=!1;return he.style.position="fixed",{remove:function remove(){xe.removeEventListener("mousemove",fe),window.removeEventListener("mouseup",ye),ke.removeEventListener("mousedown",be)}}}var F=location.protocol,H=location.hostname,U=F+"//"+H+"",G=U+"/model/",R=U+"/img/",O=R+"gallery/",K=O+"mini/",Y=["Inactive","Active","Banned","Deleted"],W=["Guest","Member","Moderator","Admin","Owner"],J={NUMBER:/^[0-9]+$/,PHONE:/^[\+ 0-9]+$/,ALPHA:/^[a-zA-Z]+$/,ALPHA_NUM:/^[a-zA-Z0-9]+$/,STR_AND_NUM:/^([0-9]+[a-zA-Z]+|[a-zA-Z]+[0-9]+|[a-zA-Z]+[0-9]+[a-zA-Z]+)$/,LOW_UP_NUM:/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).*$/,SLUG:/^[a-zA-Z0-9-_]+$/,NAME:/^([a-zA-Z0-9 -]+)$/,NAME_HUN:/^([a-zA-Z0-9ÁÉÍÓÖŐÚÜŰÔÕÛáéíóöőúüűôõû -]+)$/,ADDRESS_HUN:/^([a-zA-Z0-9 ÁÉÍÓÖŐÚÜŰÔÕÛáéíóöőúüűôõû\,\.\-]+)$/,STRING:"ESCAPE_STRING",EMAIL:/^[a-zA-Z0-9._%-]+@[a-zA-Z0-9.-]+.[a-zA-Z]{2,4}$/,IP:/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/},Z="/error/404",$={403:"Cannot access page",404:"Page not found",500:"Internal server error"},ee=["left","middle","right"],ae=60*new Date().getTimezoneOffset(),re=function(he){return console.log(he.error||he)},ie=localStorage.getItem("Auth")?JSON.parse(localStorage.getItem("Auth")):{hash:"",role:0,name:"Guest",userId:0,domain:""};var de={current:{routeData:null,dom:null,title:"",data:null,component:null,componentData:{}},global:{component:{settingsManager:{name:"settingsManager",condition:{role:1},datasource:{get:G+"User.php?action=get_my_data",edit:G+"User.php?action=edit"},constructor:function(he){function fe(Se){var Le=Se.modelData,Ee=["name","email","address","phone","city"],_iteratorNormalCompletion41=!0,_didIteratorError41=!1,_iteratorError41=void 0;try{for(var Te,Ce,Ie=Ee[Symbol.iterator]();!(_iteratorNormalCompletion41=(Te=Ie.next()).done);_iteratorNormalCompletion41=!0)Ce=Te.value,ke.querySelector("#settings_"+Ce).value=Le[Ce]}catch(ze){_didIteratorError41=!0,_iteratorError41=ze}finally{try{!_iteratorNormalCompletion41&&Ie.return&&Ie.return()}finally{if(_didIteratorError41)throw _iteratorError41}}"update"==Se.renderFunc&&(ge.add("User settings was updated!","success"),ke.classList.toggle("slideFromTop"))}function ye(){var Se=xe.passOld,Le=0<Se.value.trim().length;xe.passNew1.disabled=!Le,xe.passNew2.disabled=!Le,xe.passNew1.dataset.rule=Le?"ALPHA_NUM,6,32":"",xe.passNew2.dataset.same=Le?"settings_password_new1":""}var be=1<arguments.length&&void 0!==arguments[1]&&arguments[1],ke=void 0,xe=void 0,we="\n\t\t<div class=\""+he.name+"\">\n\t\t\t<div class=\"form_window\" id=\"settings_Form\" data-method=\"POST\" data-action=\"user/settings\">\n\t\t\t\t<h1> Be\xE1ll\xEDt\xE1sok </h1><br>\n\t\t\t\t<input id=\"settings_name\" name=\"settings_name\" type=\"text\" placeholder=\"Teljes N\xE9v\" title=\"K\xE9rem adjon a nev\xE9t\" data-rule=\"NAME_HUN,5,50\">\n\t\t\t\t<input id=\"settings_city\" name=\"settings_city\" type=\"text\" placeholder=\"V\xE1ros\" title=\"V\xE1ros n\xE9v csak magyar karaktereket tartalmazhat\" data-empty=\"true\" data-rule=\"ADDRESS_HUN,0,50\">\n\t\t\t\t<input id=\"settings_address\" name=\"settings_address\" type=\"text\" placeholder=\"C\xEDm\" title=\"C\xEDme csak magyar karaktereket tartalmazhat\" data-empty=\"true\" data-rule=\"ADDRESS_HUN,0,50\">\n\t\t\t\t<input id=\"settings_phone\" name=\"settings_phone\" type=\"text\" placeholder=\"Telefon\" title=\"K\xE9rem adjon a telefon sz\xE1mat\" data-empty=\"true\"  data-rule=\"PHONE,0,50\">\n\t\t\t\t<input id=\"settings_email\" name=\"settings_email\" type=\"text\" placeholder=\"Email c\xEDm\" title=\"K\xE9rem adjon meg az email c\xEDm\xE9t\" data-rule=\"EMAIL,5,50\">\n\t\t\t\t<input id=\"settings_password\" name=\"settings_password\" type=\"password\" value=\"\" placeholder=\"Jelenlegi jelsz\xF3\" title=\"K\xE9rem adjon meg a jelenlegi jelszav\xE1t\" data-empty=\"true\" data-rule=\"ALPHA_NUM,0,32\">\n\t\t\t\t<input id=\"settings_password_new1\" name=\"settings_password_new1\" disabled type=\"password\" data-empty=\"true\" placeholder=\"\xDAj jelsz\xF3\" title=\"K\xE9rem adjon meg egy jelsz\xF3t, az angol ABC bet\u0171it \xE9s/-vagy sz\xE1mok felhaszn\xE1las\xE1val\" data-rule=\"\">\n\t\t\t\t<input id=\"settings_password_new2\" name=\"settings_password_new2\" disabled type=\"password\" data-empty=\"true\" placeholder=\"Jelsz\xF3 \xFAjra\" title=\"Egyeznie kell az el\u0151z\u0151 mez\u0151vel!\" data-same=\"\"><br>\n\t\t\t\t<br>\n\t\t\t\t<div href=\"*\" data-action=\"component/"+he.name+"/submit\" class=\"btn btn-type-5\"> Ment\xE9s </div>\n\t\t\t\t<div href=\"*\" data-action=\"component/"+he.name+"/toggle\" class=\"btn btn-type-6\"> Bez\xE1r </div>\n\t\t\t\t</div>\n\t\t</div>";return function(){document.body.insertAdjacentHTML("beforeend",we),ke=document.querySelector("."+he.name),xe={passOld:ke.querySelector("#settings_password"),passNew1:ke.querySelector("#settings_password_new1"),passNew2:ke.querySelector("#settings_password_new2")},xe.passOld.onkeyup=ye,xe.passOld.onchange=ye,be.get(he.datasource.get,{},fe,re)}(),{submit:function submit(){ce.submitForm("settings_Form",he.datasource.edit,{},fe)},toggle:function toggle(){ke.classList.toggle("slideFromTop")},remove:function remove(){ke.remove()}}}},modal:{name:"modal",constructor:function(he){function Ee(Te){var Ce=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(Te||""===Te){var ze=we.close();ye.innerHTML=Te+ze}Ce&&(ue.setUrl(Ce),be=Ce),ke||Le()}function Se(){be&&(ue.setUrl(""),be=null),fe.classList.add("hidden"),ye.innerHTML="",ke=!1}function Le(){ke=!0,fe.classList.remove("hidden")}var fe,ye,be,ke=!1,we={close:function close(){return"<div href=\"*\" data-action=\"component/"+he.name+"/close\" class=\"close\"> &times; </div>"},main:function main(){return"<div class=\"content\"></div>"}};return function(){fe=document.createElement("div"),fe.dataset.modal=!0,fe.classList.add("modal-window","hidden","fade-in"),fe.innerHTML=we.main(),fe.onclick=Se,document.body.appendChild(fe),ye=fe.querySelector(".content")}(),{close:function close(){Se()},show:function show(){Le()},toggle:function toggle(){ke?Se():Le()},getDOM:function getDOM(){return fe},setContent:function setContent(){var Te=0<arguments.length&&void 0!==arguments[0]&&arguments[0],Ce=1<arguments.length&&void 0!==arguments[1]&&arguments[1],ze=2<arguments.length&&void 0!==arguments[2]&&arguments[2];Ee(Te,Ce,ze)},getContent:function getContent(){return ye}}}},audioPlayer:{name:"audioPlayer",datasource:{get:G+"Audio.php?action=get"},constructor:function(he){function ve(je){var Fe,Be=Le.dom,He=Le.handler,Pe=Be.app;Ie=je.length,Le.list=je,Be.head=Pe.querySelector(".header"),Be.list=Pe.querySelector(".list"),Be.main=Pe.querySelector(".details"),Fe=Be.main,Be.duration=Fe.querySelector(".duration"),Be.currentTime=Fe.querySelector(".currentTime"),Be.title=Fe.querySelector(".title"),Be.volume=Fe.querySelector(".volume"),Be.track=Fe.querySelector(".track"),Be.container=Be.app.querySelector(".container"),Be.spearkerIcon=Fe.querySelector(".speaker_icon"),Be.loopIcon=Fe.querySelector(".loop_icon"),Be.anchorIcon=Fe.querySelector(".anchor_icon"),Be.randomIcon=Fe.querySelector(".random_icon"),xe.addEventListener("play",Te),xe.addEventListener("loadedmetadata",Ce),Be.volume.addEventListener("change",He.setVolume),Be.track.addEventListener("change",ze),xe.addEventListener("ended",He.audioEnded),Ne(Be.volume.value),Le.loop=!Le.loop,Le.anchor=!Le.anchor,Le.random=!Le.random,He.loopButton(),He.anchorButton(),He.randomButton(),Le.list.forEach(function(Ue,Ge){Ee[Ge]=[new Audio,Ge],Ee[Ge][0].src=Ue.src}),De=setInterval(function(){0===Ie&&(clearInterval(De),ye()),Ee.forEach(function(Ue,Ge){Ue&&0<Ue[0].readyState&&(Le.list[Ue[1]].duration=fe(~~Ue[0].duration),Ee.splice(Ge,1),Ie--)})},200)}function fe(){var je=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return("00"+~~(je/60)).slice(-2)+":"+("00"+je%60).slice(-2)}function ye(){var je="",Be=Le.dom;Le.list.forEach(function(Fe,He){je+="<li id=\"audio_"+Se+"_"+He+"\" data-index=\""+He+"\" title=\""+Fe.title+"\">"+Fe.title+" - <span data-index=\""+He+"\"> "+Fe.duration+" </span></li>"}),Be.list.insertAdjacentHTML("afterbegin","<ul id=\"playlist_"+Se+"\">"+je+"</ul>"),qe=document.getElementById("playlist_"+Se),qe.addEventListener("click",Le.handler.changeAudio),Be.container.style.display="block",z(Be.app,Be.head),Le.scrollBar=new be(Le.dom.container),Be.app.style.left="0px",Be.app.style.display="none"}function be(je){var Be=("string"==typeof je?document.querySelector(je):je)||null,Fe=Be.querySelector(".content")||null,He=Be.querySelector("input[type=range]")||null;if(!Be||!Fe||!He)return console.log("missing one or more dom element (ex. container[div], .content[div], .scrollBar[input=type[range]])");var Pe=Be.offsetHeight,Ue=Fe.scrollHeight,Re=He.offsetHeight;return Ue<Pe?(Fe.style.right="-40px",He.outerHTML=""):void(He.style.width=Pe-20+"px",He.style.right=Re-Pe/2+10+"px",He.addEventListener("change",function(){Fe.scrollTop=(Ue-Pe+20)/100*He.value}),Fe.addEventListener("scroll",function(){He.value=100/(Ue-Pe+20)*Fe.scrollTop}))}var ke=1<arguments.length&&void 0!==arguments[1]&&arguments[1];document.getElementById("App").insertAdjacentHTML("afterend",me.getContent("audioPlayer",{title:"Lej\xE1tsz\xF3",name:he.name}));var Ie,De,Me,qe,xe=new Audio,Se=Math.random().toString(36).substr(2,9),Le={dom:{app:document.querySelector("#audioPlayer"),head:null,list:null,main:null,duration:null,currentTime:null,title:null,volume:null,spearkerIcon:null,loopIcon:null,anchorIcon:null,randomIcon:null,container:null,close:null},list:[],currentSong:-1,play:!1,currentTime:0,loop:!0,anchor:!1,random:!1,select:function select(je){-1!==Le.currentSong&&document.getElementById("audio_"+Se+"_"+Le.currentSong).classList.remove("selected"),Le.handler.stopButton(),Le.currentSong=je,Le.handler.playButton()},handler:{playButton:function playButton(){if(!Le.play){var je=Le.dom;-1===Le.currentSong&&(Le.currentSong=0),Le.play=!0;var Be=Le.list[Le.currentSong];xe.src=Be.src,xe.play(),document.getElementById("audio_"+Se+"_"+Le.currentSong).classList.add("selected"),je.title.innerHTML=Be.title,je.title.title=Be.title,je.duration.innerHTML=Be.duration,je.currentTime.classList.remove("blink")}},stopButton:function stopButton(){var je=Le.dom;Le.currentTime=0,je.currentTime.innerHTML=fe(Le.currentTime),je.track.value=0,xe.pause(),Le.play=!1,je.currentTime.classList.remove("blink")},pauseButton:function pauseButton(){Le.play&&(Le.currentTime=~~xe.currentTime,xe.pause(),Le.play=!1,Le.dom.currentTime.classList.add("blink"))},changeAudio:function changeAudio(je){var Be=je.target.dataset.index;Be&&Le.select(je.target.dataset.index)},loopButton:function loopButton(){Le.loop=!Le.loop,Le.dom.loopIcon.classList[Le.loop?"add":"remove"]("select")},anchorButton:function anchorButton(){Le.anchor=!Le.anchor,Le.dom.anchorIcon.classList[Le.anchor?"add":"remove"]("select")},randomButton:function randomButton(){Le.random=!Le.random,Le.dom.randomIcon.classList[Le.random?"add":"remove"]("select")},setVolume:function setVolume(je){Ne(je.target.value)},audioEnded:function audioEnded(){if(Le.loop){var Be,je=Le.currentSong;Be=Le.anchor?je:Le.random?~~(Math.random()*Le.list.length):+je+1<Le.list.length?+je+1:0,Le.select(Be)}}}},Ee=[],Te=function(){xe.currentTime=~~Le.currentTime},Ne=function(je){var Be=["&#x1f508;","&#x1f509;","&#x1f50a;"],Fe=Be[0];xe.volume=je/100,30<je?Fe=Be[2]:1<je&&(Fe=Be[1]),Le.dom.spearkerIcon.innerHTML=Fe},Ce=function(){Le.dom.track.max=~~xe.duration},ze=function(je){var Be=je.target.value;xe.currentTime=Be,Le.dom.currentTime.innerHTML=fe(Be)};return ke.get(he.datasource.get,{},function(je){return ve(je.modelData)},re),Me=setInterval(function(){Le.play&&(Le.dom.track.value=~~xe.currentTime,Le.dom.currentTime.innerHTML=fe(~~xe.currentTime))},1e3),{button:function button(je){Le.handler[je]&&Le.handler[je]()},remove:function remove(){}}}},messageCenter:{name:"messageCenter",condition:{role:1},refresh:{period:15,iconPath:"a.badge.unreaded-msg[data-count]"},datasource:{refresh:G+"User.php?action=save_status",send:G+"Message.php?action=send_msg",delete:G+"Message.php?action=delete_msg",sent:G+"Message.php?action=get_sent",inbox:G+"Message.php?action=get_inbox",write:G+"Message.php?action=get_users",view:G+"Message.php?action=get_single_mail"},constructor:function(he){function fe(Ve){if(Ve.target_id==ie.userId&&0==Ve.status){var _iteratorNormalCompletion45=!0,_didIteratorError45=!1,_iteratorError45=void 0;try{for(var We,Je,Ye=He[Symbol.iterator]();!(_iteratorNormalCompletion45=(We=Ye.next()).done);_iteratorNormalCompletion45=!0)Je=We.value,--Je.dataset.count}catch(Xe){_didIteratorError45=!0,_iteratorError45=Xe}finally{try{!_iteratorNormalCompletion45&&Ye.return&&Ye.return()}finally{if(_didIteratorError45)throw _iteratorError45}}}}function ye(){Ee.get(Ge,{},Oe.refresh,re),Pe=setTimeout(ye,Ue)}function be(Ve,Ye){var We=2<arguments.length&&void 0!==arguments[2]&&arguments[2],Je="";if(We||(Ye.innerHTML=""),Ae=We?[].concat(_toConsumableArray(Ae),[Ve]):Ve,Ve&&Ve.length){var _iteratorNormalCompletion46=!0,_didIteratorError46=!1,_iteratorError46=void 0;try{for(var Ze,Qe,Xe=Ve[Symbol.iterator]();!(_iteratorNormalCompletion46=(Ze=Xe.next()).done);_iteratorNormalCompletion46=!0)Qe=Ze.value,Je+=Re.tableRow(Qe)}catch($e){_didIteratorError46=!0,_iteratorError46=$e}finally{try{!_iteratorNormalCompletion46&&Xe.return&&Xe.return()}finally{if(_didIteratorError46)throw _iteratorError46}}Ye.insertAdjacentHTML("beforeend",Je)}}function ke(Ve){ge.add("Message was sent!","success"),Be.value="",Fe.value="",be(Ve.modelData,je,!0)}function xe(Ve){var Ye=Ve.modelData.msg,We=Ae.length;if(Ye&&Ye.id)for(var Je=0;Je<We;Je++)if(Ae[Je].id==Ye.id){var Xe=Ie.querySelector("tr[data-id=\""+Ye.id+"\"]");return Xe&&Xe.remove(),Ae.splice(Je,1),ge.add("Message deleted!","success")}}function we(Ve){if(!Ae.length)return!1;var _iteratorNormalCompletion47=!0,_didIteratorError47=!1,_iteratorError47=void 0;try{for(var We,Je,Ye=Ae[Symbol.iterator]();!(_iteratorNormalCompletion47=(We=Ye.next()).done);_iteratorNormalCompletion47=!0)if(Je=We.value,Je.id==Ve)return Je}catch(Xe){_didIteratorError47=!0,_iteratorError47=Xe}finally{try{!_iteratorNormalCompletion47&&Ye.return&&Ye.return()}finally{if(_didIteratorError47)throw _iteratorError47}}return!1}function Se(Ve){var Ye=qe.length;if(!Ye)return!1;for(var We=0;We<Ye;We++)if(qe[We].value==Ve)return qe.selectedIndex=We;return!1}function Ke(Ve){var Ye=we(Ve);return Ye?void(Le("write"),Be.value="Re: "+Ye.subject,Fe.value="---"+Ye.content+"---",Se(Ye.sender_id)):ge.add("Message not exist !","error")}function Le(Ve){var Ye=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(Me!=Ve){Me=Ve;var We=Ye?{param:{id:Ye}}:{},_iteratorNormalCompletion48=!0,_didIteratorError48=!1,_iteratorError48=void 0;try{for(var Xe,Ze,Je=Ce[Symbol.iterator]();!(_iteratorNormalCompletion48=(Xe=Je.next()).done);_iteratorNormalCompletion48=!0)Ze=Xe.value,Te[Ze].classList.add("hide")}catch(Qe){_didIteratorError48=!0,_iteratorError48=Qe}finally{try{!_iteratorNormalCompletion48&&Je.return&&Je.return()}finally{if(_didIteratorError48)throw _iteratorError48}}Te[Ve].classList.remove("hide"),Ee.get(he.datasource[Ve],We,Oe[Ve],re)}}var Ee=1<arguments.length&&void 0!==arguments[1]&&arguments[1],Ie=void 0,Te={},Ce=[],ze=void 0,Ae=[],Me=void 0,qe=void 0,Ne=void 0,je=void 0,Be=void 0,Fe=void 0,He=void 0,Pe=void 0,Ue=1e3*he.refresh.period,Ge=he.datasource.refresh,Re={main:function main(){return"<div class=\"wrapper\">\n\t\t\t\t\t\t<header>\n\t\t\t\t\t\t\t<ul></ul>\n\t\t\t\t\t\t</header>\n\t\t\t\t\t\t<main></main>\n\t\t\t\t\t</div>"},nav:function nav(Ve,Ye,We){return"<li href=\"*\" data-action=\"component/"+he.name+"/"+We+Ye+"\">"+Ve+"</li>"},write:function write(){return"\n\t\t\t\t<div id=\"message_Form\" data-method=\"POST\" data-action=\"message/send_msg\">\n\t\t\t\t\t<h1>\xDAj \xDCzenet K\xFCld\xE9se</h1><br>\n\t\t\t\t\t<input id=\"message_subject\" name=\"message_subject\" type=\"text\" placeholder=\"\xDCzenet c\xEDme\" title=\"A c\xEDm 1 \xE9s 255 karakter k\xF6z\xF6tt lehet!\" data-rule=\"STRING,1,255\">\n\t\t\t\t\t<textarea id=\"message_content\" name=\"message_content\" placeholder=\"\xDCzenet sz\xF6vege\" title=\"A sz\xF6veg 1 \xE9s 5000 karakter k\xF6z\xF6tt lehet!\" data-rule=\"STRING,1,5000\"></textarea><br>\n\t\t\t\t\t<footer>\n\t\t\t\t\t\t<select id=\"message_user_id\" name=\"message_user_id\"></select>\n\t\t\t\t\t\t<a href=\"*\" data-action=\"component/"+he.name+"/submit\" title=\"Az \xFCzenet k\xFCld\xE9se\" class=\"btn btn-type-5\"> K\xFCld\xF6m </a>\n\t\t\t\t\t</footer>\n\t\t\t\t</div>"},inbox:function inbox(){return"<table><thead>\n\t\t\t\t\t\t<tr><th>Name</th><th>Subject</th><th>Date</th><th></th></tr>\n\t\t\t\t\t\t</thead><tbody></tbody></table>"},sent:function sent(){return"<table><thead>\n\t\t\t\t\t\t<tr><th>Name</th><th>Subject</th><th>Date</th><th></th></tr>\n\t\t\t\t\t\t</thead><tbody></tbody></table>"},view:function view(){var Ve=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;if(!Ve)return"";ie.userId==Ve.sender_id?"sent":"inbox";return Ve.created=Ve.created.split("-").join("."),Ve.updated=Ve.updated?Ve.updated.split("-").join("."):"Unreaded","<header>\n\t\t\t\t\t\t\t<div class=\"sender\">\n\t\t\t\t\t\t\t\t<span class=\"hide-phone bold\">From: </span><span data-role=\"sender_name\">"+Ve.sender_name+"</span>\n\t\t\t\t\t\t\t\t<time datetime=\""+Ve.created+"\">"+Ve.created+"</time>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"target\">\n\t\t\t\t\t\t\t\t<span class=\"hide-phone bold\">To: </span><span data-role=\"target_name\">"+Ve.target_name+"</span>\n\t\t\t\t\t\t\t\t<time datetime=\""+Ve.update+"\">"+Ve.updated+"</time>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</header>\n\t\t\t\t\t\t<main>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<span class=\"hide-phone bold\">Subject: </span><span data-role=\"subject\">"+Ve.subject+"</span><br>\n\t\t\t\t\t\t\t\t<span class=\"hide-phone bold\">Content: </span><span data-role=\"subject\">"+Ve.content+"</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</main>\n\t\t\t\t\t\t<footer>\n\t\t\t\t\t\t\t<a href=\"*\" data-action=\"component/"+he.name+"/reply/"+Ve.id+"\" data-role=\"reply\"><div class=\"btn type-1\"> V\xE1lasz </div></a>\n\t\t\t\t\t\t\t<a href=\"*\" data-action=\"component/"+he.name+"/deleteUser/0\" data-role=\"delete\"><div class=\"btn type-2\"> T\xF6r\xF6l </div></a>\n\t\t\t\t\t\t</footer>"},tableRow:function tableRow(Ve){var Ye=ie.userId==Ve.sender_id?"":"<a href=\"*\" data-action=\"component/"+he.name+"/reply/"+Ve.id+"\" class=\"reply\">&#x21b6;</a>";return"<tr data-id="+Ve.id+" data-status=\""+Ve.status+"\" href=\"*\" data-action=\"component/"+he.name+"/view/"+Ve.id+"\">\n\t\t\t\t\t\t<td>"+Ve.name+"</td>\n\t\t\t\t\t\t<td>"+Ve.subject+"</td>\n\t\t\t\t\t\t<td>"+Ve.created+"</td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t"+Ye+"\n\t\t\t\t\t\t\t<a href=\"*\" data-action=\"component/"+he.name+"/delete/"+Ve.id+"\" class=\"delete\">&#x2718;</a>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>"}},Oe={write:function write(Ve){var Ye=Ve.modelData;qe.innerHTML="";var _iteratorNormalCompletion42=!0,_didIteratorError42=!1,_iteratorError42=void 0;try{for(var Je,Xe,We=Ye[Symbol.iterator]();!(_iteratorNormalCompletion42=(Je=We.next()).done);_iteratorNormalCompletion42=!0)Xe=Je.value,qe.options[qe.options.length]=new Option(Xe.name,Xe.id)}catch(Ze){_didIteratorError42=!0,_iteratorError42=Ze}finally{try{!_iteratorNormalCompletion42&&We.return&&We.return()}finally{if(_didIteratorError42)throw _iteratorError42}}},sent:function sent(Ve){be(Ve.modelData,je)},inbox:function inbox(Ve){be(Ve.modelData,Ne)},view:function view(Ve){var Ye=Ve.modelData;Te.view.innerHTML=Re.view(Ye),fe(Ye)},refresh:function refresh(Ve){var Ye=Ve.modelData.count,_iteratorNormalCompletion43=!0,_didIteratorError43=!1,_iteratorError43=void 0;try{for(var Je,Xe,We=He[Symbol.iterator]();!(_iteratorNormalCompletion43=(Je=We.next()).done);_iteratorNormalCompletion43=!0)Xe=Je.value,Xe.dataset.count=Ye}catch(Ze){_didIteratorError43=!0,_iteratorError43=Ze}finally{try{!_iteratorNormalCompletion43&&We.return&&We.return()}finally{if(_didIteratorError43)throw _iteratorError43}}}};return function(){var Ve=[["Bez\xE1r","toggle",""],["Kimen\u0151","sent","switchTo/"],["Bej\xF6v\u0151","inbox","switchTo/"],["K\xFCld\xE9s","write","switchTo/"]];Ie=document.createElement("div"),Ie.classList.add("minimizeEffect"),Ie.id="messenger",Ie.innerHTML=Re.main();var Ye=Ie.querySelector("header ul"),We=Ie.querySelector("main"),_iteratorNormalCompletion44=!0,_didIteratorError44=!1,_iteratorError44=void 0;try{for(var Xe,Ze,Je=Ve[Symbol.iterator]();!(_iteratorNormalCompletion44=(Xe=Je.next()).done);_iteratorNormalCompletion44=!0)Ze=Xe.value,Ye.insertAdjacentHTML("beforeend",Re.nav.apply(Re,_toConsumableArray(Ze))),"toggle"==Ze[1]&&(Ze[1]="view"),ze=document.createElement("div"),ze.classList.add(Ze[1]),("sent"==Ze[1]||"inbox"==Ze[1])&&ze.classList.add("msg-list"),ze.innerHTML=Re[Ze[1]](),We.appendChild(ze),Te[Ze[1]]=ze,Ce.push(Ze[1])}catch(Qe){_didIteratorError44=!0,_iteratorError44=Qe}finally{try{!_iteratorNormalCompletion44&&Je.return&&Je.return()}finally{if(_didIteratorError44)throw _iteratorError44}}Te.write.style.display="block",document.body.appendChild(Ie),qe=Ie.querySelector("#message_user_id"),Ne=Te.inbox.querySelector("table tbody"),je=Te.sent.querySelector("table tbody"),Be=Te.write.querySelector("input[name=\"message_subject\"]"),Fe=Te.write.querySelector("textarea[name=\"message_content\"]"),He=document.body.querySelectorAll(he.refresh.iconPath),Le("write"),He.length&&ye()}(),{switchTo:function switchTo(Ve){Ve&&Le(Ve)},submit:function submit(){var Ve=qe[qe.selectedIndex].textContent;ce.submitForm("message_Form",he.datasource.send,{name:Ve},ke)},toggle:function toggle(){Ie.classList.toggle("minimizeEffect")},view:function view(){var Ve=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;Le("view",Ve)},userTarget:function userTarget(){var Ve=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;Le("write"),Se(Ve),Ie.classList.remove("minimizeEffect")},reply:function reply(){var Ve=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;Ke(Ve)},delete:function _delete(){var Ve=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;Ve&&oe.get(he.datasource.delete,{param:{id:Ve}},xe,re)},remove:function remove(){Ie.remove(),clearTimeout(Pe)}}}}}},article_add:{render:{model:!0},title:"Cikk hozz\xE1ad\xE1sa",template:"articleAddPage"},article_index:{title:"Cikkek",render:{model:!0},template:"articlePage"},article_view:{title:"Cikkek",render:{model:!0},template:"articleViewPage"},home_index:{title:"A Gy\xFClekezet F\u0151oldala",render:{model:!0},template:"homePage",component:{newsCalendar:{name:"newsCalendar",viewMode:0,id:"news",range:{min:2e3,max:2143},show:{event:["click",".stickyNote .calendarIcon"],place:".stickyNote"},datasource:{get:G+"News.php?action=index&filter=all",add:G+"News.php?action=add",delete:G+"News.php?action=delete"},constructor:w}}},user_login:{title:"Bejelentkez\xE9s",template:"loginForm",modalPage:!0},user_logout:{title:"Kijelentkez\xE9s",render:{model:!0}},user_registration:{title:"Bejelentkez\xE9s",template:"signupForm",modalPage:!0},user_index:{title:"Felhaszn\xE1l\xF3k",render:{model:!0},component:{userManager:{name:"userManager",condition:{role:3},table:".user .index main table",storeData:!0,datasource:{edit:G+"User.php?action=admin_edit",delete:G+"User.php?action=delete_user"},constructor:function(he){function ve(){var Be=0<arguments.length&&void 0!==arguments[0]&&arguments[0];Ie=document.querySelector(he.table),Te=Ie.querySelector("tbody"),Be||document.body.insertAdjacentHTML("beforeend",je.main(he)),Le=document.getElementById(he.name),De=document.getElementById("admin_user_status"),Me=document.getElementById("admin_user_rank"),qe=Le.querySelector("#adminSideCheckbox"),Ne=Le.querySelector("input[name$=\"_email\"]"),Ce=Le.querySelector("a[data-role=\"delete\"]"),Me.selectedIndex=0,fe()}function fe(){var Be=0<arguments.length&&void 0!==arguments[0]&&arguments[0],He="",Pe=void 0;Be?ze.push.apply(ze,_toConsumableArray(Be)):Te.innerHTML="";var _iteratorNormalCompletion50=!0,_didIteratorError50=!1,_iteratorError50=void 0;try{for(var Ge,Ue=(Be||ze)[Symbol.iterator]();!(_iteratorNormalCompletion50=(Ge=Ue.next()).done);_iteratorNormalCompletion50=!0)Pe=Ge.value,He+=je.row(Pe)}catch(Re){_didIteratorError50=!0,_iteratorError50=Re}finally{try{!_iteratorNormalCompletion50&&Ue.return&&Ue.return()}finally{if(_didIteratorError50)throw _iteratorError50}}Te.insertAdjacentHTML("beforeend",He)}function ye(Be){var Fe=Be.modelData.id;if(Fe){var He=Ie.querySelector("tr[data-id=\""+Fe+"\"]"),Pe=xe(Fe);if(!Pe)return ge.add("Something went wrong and user data not exist in client side!","error");if(Object.assign(Pe,Be.modelData),He){var Ue=He.querySelector("td[data-field=\"status\"]"),Ge=He.querySelector("td[data-field=\"rank\"]");Ue.textContent=Y[Pe.status],Ge.textContent=W[Pe.rank]}ge.add("Changes was saved!","success")}}function be(){var Be={id:Ae.id};ce.submitForm("setUser_Form",he.datasource.edit,Be,ye)}function ke(Be){var Fe=xe(Be);if(Fe){if(Be!=ie.userId&&Fe.rank>=ie.role)return ge.add("Selected user got same or higher rank than you!","error");Ce.classList[ie.userId==Be?"add":"remove"]("disabled"),Ae=Fe,qe.checked=!0,Ne.value=Fe.email,De.selectedIndex=Fe.status,Me.selectedIndex=Fe.rank-1}}function xe(Be){var _iteratorNormalCompletion51=!0,_didIteratorError51=!1,_iteratorError51=void 0;try{for(var He,Pe,Fe=ze[Symbol.iterator]();!(_iteratorNormalCompletion51=(He=Fe.next()).done);_iteratorNormalCompletion51=!0)if(Pe=He.value,Pe.id==Be)return Pe}catch(Ue){_didIteratorError51=!0,_iteratorError51=Ue}finally{try{!_iteratorNormalCompletion51&&Fe.return&&Fe.return()}finally{if(_didIteratorError51)throw _iteratorError51}}return!1}function we(Be){var Fe=ze.length,He=Be.modelData.id||0,Pe=0;if(He)for(;Pe<Fe;Pe++)if(ze[Pe].id==He){var Ue=Ie.querySelector("tr[data-id=\""+He+"\"]");return Ue.remove(),ze.splice(Pe,1),qe.checked=!1,ge.add("User deleted!","success")}}var Se=1<arguments.length&&void 0!==arguments[1]&&arguments[1],Le=void 0,Ie=void 0,Te=void 0,Ce=void 0,ze=de.current.componentData[he.name],Ae=void 0,De=void 0,Me=void 0,qe=void 0,Ne=void 0,je={main:function main(Be){var Fe=W.length,He="",Pe="",Ue=0,_iteratorNormalCompletion49=!0,_didIteratorError49=!1,_iteratorError49=void 0;try{for(var Re,Oe,Ge=Y[Symbol.iterator]();!(_iteratorNormalCompletion49=(Re=Ge.next()).done);_iteratorNormalCompletion49=!0)Oe=Re.value,He+="<option value=\""+Ue++ +"\">"+Oe+"</option>"}catch(Ke){_didIteratorError49=!0,_iteratorError49=Ke}finally{try{!_iteratorNormalCompletion49&&Ge.return&&Ge.return()}finally{if(_didIteratorError49)throw _iteratorError49}}for(Ue=1;Ue<Fe;Ue++)Pe+="<option value=\""+Ue+"\">"+W[Ue]+"</option>";return me.getContent("adminSidePanelBone",["userManager","\n\t\t\t\t\t\t\t<h2> Szerkeszt </h2>\n\t\t\t\t\t\t\t<div id=\"setUser_Form\" data-method=\"POST\" data-action=\"users/admin_add\">\n\t\t\t\t\t\t\t\t<select id=\"admin_user_status\" name=\"setUser_status\">"+He+"</select>\n\t\t\t\t\t\t\t\t<select id=\"admin_user_rank\" name=\"setUser_rank\">"+Pe+"</select>\n\t\t\t\t\t\t\t\t<input type=\"text\" name=\"setUser_email\" placeholder=\"Email\" data-rule=\"EMAIL,3,100\">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<a href=\"*\" data-action=\"component/"+Be.name+"/save\"><div class=\"btn type-1\">Ment\xE9s</div></a>\n\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t<div class=\"separator\"></div>\n\t\t\t\t\t\t\t<h2> V\xE9gleges </h2>\n\t\t\t\t\t\t\t<a href=\"*\" data-action=\"component/"+Be.name+"/deleteUser/0\" data-role=\"delete\"><div class=\"btn type-2\"> T\xF6r\xF6l </div></a>\n\t\t\t\t\t\t\t"])},row:function row(Be){return me.getContent("userCreateRow",[Be,he.name])}};return ve(),{view:function view(){var Be=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;alert(Be)},deleteUser:function deleteUser(){Ae&&oe.get(he.datasource.delete,{param:{id:Ae.id}},we,re)},message:function message(){var Be=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;alert("msg: "+Be)},select:function select(){var Be=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;ke(Be)},save:function save(){be()},reload:function reload(){ve(!0)},remove:function remove(){Le.remove()}}}}},template:"usersPage"},user_view:{title:"Profil",render:{model:!0},template:"userView"},video_index:{title:"Youtube vide\xF3k",render:{model:"Api.YouTube"},template:"videoPlaylist"},video_playlist:{title:"Youtube vide\xF3k",render:{model:"Api.YouTube"},component:{youtubeViewer:{name:"youtubeViewer",storeData:!0,relationship:{modal:"modal"},constructor:function(he){function fe(){var Se=de.current.routeData.param.index;delete de.current.routeData.param.index,Se&&setTimeout(function(){return we(Se)},500)}function we(Se){fe=!1;var _iteratorNormalCompletion52=!0,_didIteratorError52=!1,_iteratorError52=void 0;try{for(var Ee,Ie,Le=ye[Symbol.iterator]();!(_iteratorNormalCompletion52=(Ee=Le.next()).done);_iteratorNormalCompletion52=!0)if(Ie=Ee.value,Ie.id===Se)return be[ke].setContent(xe.main(Ie),Ie.id)}catch(Te){_didIteratorError52=!0,_iteratorError52=Te}finally{try{!_iteratorNormalCompletion52&&Le.return&&Le.return()}finally{if(_didIteratorError52)throw _iteratorError52}}}var ye=de.current.componentData[he.name],be=de.current.component,ke=he.relationship.modal,xe={main:function main(Se){return"<div class=\"video-container\">\n\t\t\t\t\t\t\t<iframe src=\"https://www.youtube.com/embed/"+Se.id+"?autoplay=1\" frameborder=\"0\" allow=\"autoplay; encrypted-media\" allowfullscreen></iframe>\n\t\t\t\t\t\t</div>"}};return fe(),{show:function show(){var Se=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;we(Se)},remove:function remove(){}}}}},template:"videoList"},gallery_index:{title:"Albumok",render:{model:!0},template:"albumList",component:{albumAdministration:{condition:{role:2},workArea:".album-box-container",storeData:!0,name:"albumAdministration",selectElem:"#admin_album_list",datasource:{add:G+"Gallery.php?action=addAlbum",delete:G+"Gallery.php?action=deleteAlbum",upload:G+"Image.php?action=upload"},relationship:{menu:"contextMenu",upload:"fileUploader"},constructor:function(he){function ye(Re){for(var Oe=Re.modelData.albumId,Ke=ze.length,Ve=0;Ve<Ke;Ve++)if(ze[Ve].id==Oe){ze[Ve].coverImage=Re.modelData.path,ze[Ve].imageId=Re.modelData.id;var Ye=je.querySelector("#album_"+Oe+" img");return void(Ye&&(Ye.src=K+Re.modelData.path))}}function be(Re){re(Re)}function ke(){var Ke;if(Fe.files.length){var Oe=[he.datasource.upload,{album_id:Fe.dataset.id},Fe.files,ye,be];(Ke=de.current.component[he.relationship.upload]).action.apply(Ke,Oe)}}function xe(Re){for(var Oe=0,Ve=Re.target;Oe<5;Oe++){if(Ve.dataset.context){break}if(Ve=Ve.parentElement,!Ve)return}if(Ke){var We=Ke.dataset.id,Je=[["Open","/gallery/album/"+We,"url"],["Upload",he.name,"upload",We],["Edit",he.name,"edit",We],["Delete",he.name,"removeAlbum",We],["Properties",he.name,"properties",We]];de.current.component[he.relationship.menu].action(Re,Je)}}function we(Re){var _iteratorNormalCompletion35=!0,_didIteratorError35=!1,_iteratorError35=void 0;try{for(var Ke,Ve,Oe=ze[Symbol.iterator]();!(_iteratorNormalCompletion35=(Ke=Oe.next()).done);_iteratorNormalCompletion35=!0)if(Ve=Ke.value,Ve.id==Re)return Ve}catch(Ye){_didIteratorError35=!0,_iteratorError35=Ye}finally{try{!_iteratorNormalCompletion35&&Oe.return&&Oe.return()}finally{if(_didIteratorError35)throw _iteratorError35}}return!1}function Se(){var Re=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,Oe=Re||this.value;Re&&Object.keys(Me).forEach(function(Ye){if(Me[Ye].value==Re)return Me.selectedIndex=Ye});var _iteratorNormalCompletion36=!0,_didIteratorError36=!1,_iteratorError36=void 0;try{for(var Ve,Ke=ze[Symbol.iterator]();!(_iteratorNormalCompletion36=(Ve=Ke.next()).done);_iteratorNormalCompletion36=!0)if(Ae=Ve.value,Ae.id==Oe)return qe.value=Ae.title,Ne.value=Ae.description,void(He=Ae)}catch(Ye){_didIteratorError36=!0,_iteratorError36=Ye}finally{try{!_iteratorNormalCompletion36&&Ke.return&&Ke.return()}finally{if(_didIteratorError36)throw _iteratorError36}}}function Le(Re){Me.options[Me.options.length]=new Option(Re.title,Re.id)}function Ee(Re){Re.modelData&&Re.renderFunc&&Ue[Re.renderFunc]&&Ue[Re.renderFunc](Re.modelData)}function Ie(Re){if(Re.modelData&&Re.modelData.ids){var Oe=Re.modelData.ids.split(",");Oe.some(function(Ke){return Number.isNaN(Ke)})&&ge.add("Wrong ids!","error"),Ue[Re.renderFunc](Re.modelData.ids.split(","))}}function Te(){var Re=je.querySelectorAll("input[type=\"checkbox\"]:checked"),Oe=[];if(!Re.length)return ge.add("Please select atleast 1 album!","error"),!1;var _iteratorNormalCompletion37=!0,_didIteratorError37=!1,_iteratorError37=void 0;try{for(var Ve,Ke=Re[Symbol.iterator]();!(_iteratorNormalCompletion37=(Ve=Ke.next()).done);_iteratorNormalCompletion37=!0)Ae=Ve.value,Oe.push(Ae.parentElement.id.replace("album_",""))}catch(Ye){_didIteratorError37=!0,_iteratorError37=Ye}finally{try{!_iteratorNormalCompletion37&&Ke.return&&Ke.return()}finally{if(_didIteratorError37)throw _iteratorError37}}return Oe}function Ce(){ce.submitForm("setAlbum_Form",he.datasource.add,null,Ee)}function Ge(Re){var Oe;if(!!Re)Oe=[Re];else if(Oe=Te(),!Oe)return;ce.submitForm("delAlbum_Form",he.datasource.delete,Oe,Ie)}var De,Me,qe,Ne,je,Be,Fe,He,ze=de.current.componentData[he.name],Ae=void 0,Pe={main:function main(Re){return me.getContent("adminSidePanelBone",["albumManagerDiv","\n\t\t\t\t\t\t\t\t<h2> Szerkeszt </h2>\n\t\t\t\t\t\t\t\t<div id=\"setAlbum_Form\" data-method=\"POST\" data-action=\"albums/add\">\n\t\t\t\t\t\t\t\t\t<select id=\"admin_album_list\" name=\"setAlbum_id\">\n\t\t\t\t\t\t\t\t\t\t<option value=\"0\">\xDAj Album</option>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t<input type=\"text\" name=\"setAlbum_title\" placeholder=\"Album n\xE9v\" data-rule=\"STRING,3,100\">\n\t\t\t\t\t\t\t\t\t<textarea name=\"setAlbum_description\" placeholder=\"Album le\xEDr\xE1s\" data-rule=\"STRING,0,5000\"></textarea>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<a href=\"*\" data-action=\"component/"+Re.name+"/rename\"><div class=\"btn type-1\">\xC1tnevez</div></a>\n\t\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t\t<div class=\"separator\"></div>\n\t\t\t\t\t\t\t\t<h2> Csoport <input type=\"checkbox\" id=\"select_all_album\" href=\"*\" data-action=\"selectAll/"+Re.workArea+"\" data-allow=\"true\"> </h2>\n\t\t\t\t\t\t\t\t<div id=\"delAlbum_Form\" data-method=\"POST\" data-action=\"albums/delete\">\n\t\t\t\t\t\t\t\t\t<a href=\"*\" data-action=\"component/"+Re.name+"/removeAlbum\"><div class=\"btn type-2\"> T\xF6r\xF6l </div></a>\n\t\t\t\t\t\t\t\t</div>"])}},Ue={add:function add(Re){ze.push(Re);var Oe=document.createElement("option");return Oe.text=Re.title,Oe.value=Re.id,Me.add(Oe),je.insertAdjacentHTML("afterbegin",me.getContent("albumCreate",Re)),ge.add("Album created!","success")},update:function update(Re){for(var Oe=ze.length,Ke=0;Ke<Oe;Ke++)if(ze[Ke].id==Re.id){ze[Ke]=Re,Ae=document.getElementById("album_"+Re.id),Ae&&(Ae.querySelector("p .title").textContent=Re.title);var _iteratorNormalCompletion32=!0,_didIteratorError32=!1,_iteratorError32=void 0;try{for(var Ye,Ve=Me[Symbol.iterator]();!(_iteratorNormalCompletion32=(Ye=Ve.next()).done);_iteratorNormalCompletion32=!0)if(Ae=Ye.value,Ae.value==Re.id){Ae.textContent=Re.title;break}}catch(We){_didIteratorError32=!0,_iteratorError32=We}finally{try{!_iteratorNormalCompletion32&&Ve.return&&Ve.return()}finally{if(_didIteratorError32)throw _iteratorError32}}return ge.add("Album updated!","success")}},remove:function remove(Re){var Ve,Oe=ze.length,Ke=0;He&&-1!==Re.indexOf(He.id)&&(He=null,qe.value="",Ne.value="");var _iteratorNormalCompletion33=!0,_didIteratorError33=!1,_iteratorError33=void 0;try{for(var We,Ye=Me[Symbol.iterator]();!(_iteratorNormalCompletion33=(We=Ye.next()).done);_iteratorNormalCompletion33=!0)Ae=We.value,-1!==Re.indexOf(Ae.value)&&Ae.remove()}catch(Je){_didIteratorError33=!0,_iteratorError33=Je}finally{try{!_iteratorNormalCompletion33&&Ye.return&&Ye.return()}finally{if(_didIteratorError33)throw _iteratorError33}}for(;Ke<Oe;Ke++)ze[Ke]&&(Ve=ze[Ke].id,-1!==Re.indexOf(Ve)&&(Ae=document.getElementById("album_"+Ve),Ae&&Ae.remove(),ze.splice(Ke,1),Ke--,Oe--))}};return function(){de.current.dom.insertAdjacentHTML("afterend",Pe.main(he)),De=document.getElementById("albumManagerDiv"),Me=De.querySelector(he.selectElem),qe=De.querySelector("input[name=\"setAlbum_title\"]"),Ne=De.querySelector("textarea[name=\"setAlbum_description\"]"),Be=De.querySelector("#adminSideCheckbox"),Fe=De.querySelector("input[type=\"file\"]");var _iteratorNormalCompletion34=!0,_didIteratorError34=!1,_iteratorError34=void 0;try{for(var Ke,Oe=ze[Symbol.iterator]();!(_iteratorNormalCompletion34=(Ke=Oe.next()).done);_iteratorNormalCompletion34=!0)Ae=Ke.value,Le(Ae)}catch(Ve){_didIteratorError34=!0,_iteratorError34=Ve}finally{try{!_iteratorNormalCompletion34&&Oe.return&&Oe.return()}finally{if(_didIteratorError34)throw _iteratorError34}}je=de.current.dom.querySelector(he.workArea),Me.addEventListener("change",Se),je.addEventListener("contextmenu",xe,!0),Fe.addEventListener("change",ke)}(),{removeAlbum:function removeAlbum(){var Re=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;Ge(Re)},remove:function remove(){je.removeEventListener("contextmenu",xe),Me.removeEventListener("change",Se),Fe.removeEventListener("change",ke),De.remove()},rename:function rename(){var Re=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;Ce(Re)},edit:function edit(){var Re=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;Re&&(Se(Re),Be.checked=!0,qe.focus())},upload:function upload(){var Re=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;Re&&(Fe.dataset.id=Re,Fe.click())},properties:function properties(){var Re=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,Oe=we(Re);Oe&&alert("Id: "+Oe.id+"\nTitle: "+Oe.title+"\nDescription:"+Oe.description+"\nUser Id: "+Oe.user_id+"\nStatus: "+Oe.status+"\nCreated: "+Oe.created)}}}},contextMenu:{condition:{role:2},style:{width:200},className:"context-menu",name:"contextMenu",relationship:"albumAdministration",constructor:E},fileUploader:{condition:{role:2},limit:{size:2048,upload:2},className:"file-uploader",name:"fileUploader",constructor:I}}},gallery_album:{title:"K\xE9pek",render:{model:!0},template:"albumImageList",component:{imageViewer:{name:"imageViewer",storeData:!0,relationship:{modal:"modal"},constructor:function(he){function Te(Ce){var ze=be[Ce-1];if(ze)return ke=Ce,Le[Ee].setContent(Ie.main(ze),ze.index)}function ye(Ce){var ze="next"===Ce?+ke+1:+ke-1;Te(ze)}var be=de.current.componentData[he.name][2],ke=1,Le=de.current.component,Ee=he.relationship.modal,Ie={main:function main(Ce){var ze=1<Ce.index?"<div class=\"leftCarousel\"><a href='*' data-action='component/"+he.name+"/previous'> &#10096; </a></div>":"",Ae=Ce.index<be.length?"<div class=\"rightCarousel\"><a href='*' data-action='component/"+he.name+"/next'> &#10097; </a></div>":"";return"<div class=\"image-container\">\n\t\t\t\t\t\t\t\t<div class=\"image-src-side\">\n\t\t\t\t\t\t\t\t\t<img src=\""+(O+Ce.path)+"\">\n\t\t\t\t\t\t\t\t\t"+ze+"\n\t\t\t\t\t\t\t\t\t"+Ae+"\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"image-data-side\">\n\t\t\t\t\t\t\t\t\t"+Ce.description+"<br>\n\t\t\t\t\t\t\t\t\t<time datetime=\""+Ce.created+"\">"+Ce.created.split("-").join(".")+"</time>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t  </div>"}};return function(){var Ce=de.current.routeData.param.index;Ce&&(delete de.current.routeData.param.index,setTimeout(function(){return Te(Ce)},500))}(),{show:function show(){var Ce=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;Te(Ce)},next:function next(){ye("next")},previous:function previous(){ye("prev")},remove:function remove(){}}}},imageAdministration:{condition:{role:2},workArea:".image-box-container",name:"imageAdministration",selectElem:"#admin_album_list",datasource:{add:G+"Image.php?action=addImage",edit:G+"Image.php?action=edit",move:G+"Image.php?action=move",delete:G+"Image.php?action=deleteImage",upload:G+"Image.php?action=upload"},relationship:{viewer:"imageViewer",menu:"contextMenu",upload:"fileUploader"},constructor:function(he){function ye(Ke){var Ve=Ke.modelData,Ye=Ve.id;Pe.push(Ve),qe.insertAdjacentHTML("beforeend",me.getContent("albumImageCreate",Ve))}function be(Ke){re(Ke)}function ke(){var Ye;if(je.files.length){var Ve=[he.datasource.upload,{album_id:Ue},je.files,ye,be];(Ye=de.current.component[he.relationship.upload]).action.apply(Ye,Ve)}}function xe(Ke){for(var Ve=0,We=Ke.target;Ve<5;Ve++){if(We.dataset.context){break}if(We=We.parentElement,!We)return}if(Ye){var Xe=Ye.dataset.id,Ze=[["Open",he.name,"open",Xe],["Upload",he.name,"upload",Xe],["Edit",he.name,"select",Xe],["Delete",he.name,"removeImage",Xe],["Properties",he.name,"properties",Xe]];de.current.component[he.relationship.menu].action(Ke,Ze)}}function we(Ke){var _iteratorNormalCompletion39=!0,_didIteratorError39=!1,_iteratorError39=void 0;try{for(var Ye,We,Ve=Pe[Symbol.iterator]();!(_iteratorNormalCompletion39=(Ye=Ve.next()).done);_iteratorNormalCompletion39=!0)if(We=Ye.value,We.id==Ke)return We}catch(Je){_didIteratorError39=!0,_iteratorError39=Je}finally{try{!_iteratorNormalCompletion39&&Ve.return&&Ve.return()}finally{if(_didIteratorError39)throw _iteratorError39}}return!1}function Se(Ke){De.options[De.options.length]=new Option(Ke.title,Ke.id)}function Le(Ke){var Ve=we(Ke.modelData.id);Ve&&(Ve.description=Ke.modelData.description,ge.add("Image changes was saved!","success"))}function Ee(){var Ke={id:Be.id,album_id:Ue};ce.submitForm("setImage_Form",he.datasource.edit,Ke,Le)}function Ie(Ke){var Ve=we(Ke);Ve&&(Be=Ve,Ne.checked=!0,Me.disabled=!1,Me.value=Ve.description,Me.focus())}function Te(Ke){if(Ke.modelData&&Ke.modelData.ids){var Ve=Ke.modelData.ids.split(","),Ye=Ke.modelData.move?"moved":"deleted";Ve.some(function(We){return Number.isNaN(We)})&&ge.add("Wrong ids!","error"),ge.add(Ve.length+(" image was "+Ye+"!"),"success"),Re.remove(Ve)}}function Oe(Ke){var Ve=1<arguments.length&&void 0!==arguments[1]&&arguments[1],Ye=De[De.selectedIndex].value,We=void 0,Je=void 0,Xe=he.datasource[Ve?"move":"delete"];if(!!Ke)We=[Ke];else if(We=Ce(),!We)return;Je=Ve?{ids:We,albumId:Ye}:We,ce.submitForm("delImage_Form",Xe,Je,Te)}function Ce(){var Ke=qe.querySelectorAll("input[type=\"checkbox\"]:checked"),Ve=[];if(!Ke.length)return ge.add("Please select atleast 1 image!","error"),!1;var _iteratorNormalCompletion40=!0,_didIteratorError40=!1,_iteratorError40=void 0;try{for(var We,Ye=Ke[Symbol.iterator]();!(_iteratorNormalCompletion40=(We=Ye.next()).done);_iteratorNormalCompletion40=!0)ze=We.value,Ve.push(ze.parentElement.id.replace("image_",""))}catch(Je){_didIteratorError40=!0,_iteratorError40=Je}finally{try{!_iteratorNormalCompletion40&&Ye.return&&Ye.return()}finally{if(_didIteratorError40)throw _iteratorError40}}return Ve}var Ae,De,Me,qe,Ne,je,Be,ze=void 0,_pages$current$compon2=_slicedToArray(de.current.componentData[he.relationship.viewer],3),Fe=_pages$current$compon2[0],He=_pages$current$compon2[1],Pe=_pages$current$compon2[2],Ue=de.current.routeData.param.id||0,Ge={main:function main(Ke){return me.getContent("adminSidePanelBone",["imageManagerDiv","\n\t\t\t\t\t\t\t\t\t<h2> Szerkeszt </h2>\n\t\t\t\t\t\t\t\t\t<div id=\"setImage_Form\" data-method=\"POST\" data-action=\"albums/add\">\n\t\t\t\t\t\t\t\t\t\t<textarea name=\"setImage_description\" placeholder=\"K\xE9p le\xEDr\xE1s\" data-rule=\"STRING,0,5000\" disabled></textarea>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<a href=\"*\" data-action=\"component/"+Ke.name+"/edit\"><div class=\"btn type-1\">\xC1tnevez</div></a>\n\t\t\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t\t\t<div class=\"separator\"></div>\n\t\t\t\t\t\t\t\t\t<input type=\"checkbox\" id=\"select_all_image\" href=\"*\" data-action=\"selectAll/"+Ke.workArea+"\" data-allow=\"true\"><select id=\"admin_album_list\" name=\"setImage_id\"></select>\n\n\t\t\t\t\t\t\t\t\t<a href=\"*\" data-action=\"component/"+Ke.name+"/move\"><div class=\"btn type-3\"> \xC1thelyez </div></a>\n\t\t\t\t\t\t\t\t\t<a href=\"*\" data-action=\"component/"+Ke.name+"/removeImage\"><div class=\"btn type-2\"> T\xF6r\xF6l </div></a>\n\t\t\t\t\t\t\t\t\t<a href=\"*\" data-action=\"component/"+Ke.name+"/upload\"><div class=\"btn type-4\"> Felt\xF6lt </div></a>\n\t\t\t\t\t\t\t\t\t<div id=\"delImage_Form\" data-method=\"POST\" data-action=\"images/delete\">\n\t\t\t\t\t\t\t\t\t</div>"])}},Re={remove:function remove(Ke){Be&&-1<Ke.indexOf(Be.id)&&(Be=null,Me.value="",Me.disabled=!0);for(var We,Ve=Pe.length,Ye=0;Ye<Ve;Ye++)Pe[Ye]&&(We=Pe[Ye].id,-1!==Ke.indexOf(We)&&(ze=document.getElementById("image_"+We),ze&&ze.remove(),Pe.splice(Ye,1),Ye--,Ve--))}};return function(){de.current.dom.insertAdjacentHTML("afterend",Ge.main(he)),Ae=document.getElementById("imageManagerDiv"),De=Ae.querySelector(he.selectElem),Me=Ae.querySelector("textarea[name=\"setImage_description\"]"),Ne=Ae.querySelector("#adminSideCheckbox"),je=Ae.querySelector("input[type=\"file\"]");var _iteratorNormalCompletion38=!0,_didIteratorError38=!1,_iteratorError38=void 0;try{for(var Ye,Ve=He[Symbol.iterator]();!(_iteratorNormalCompletion38=(Ye=Ve.next()).done);_iteratorNormalCompletion38=!0)ze=Ye.value,Se(ze)}catch(We){_didIteratorError38=!0,_iteratorError38=We}finally{try{!_iteratorNormalCompletion38&&Ve.return&&Ve.return()}finally{if(_didIteratorError38)throw _iteratorError38}}qe=de.current.dom.querySelector(he.workArea),qe.addEventListener("contextmenu",xe,!0),je.addEventListener("change",ke)}(),{open:function open(){var Ke=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,Ve=qe.querySelector("#image_"+Ke+" a[href=\"*\"]");Ve&&Ve.click()},removeImage:function removeImage(){var Ke=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;Oe(Ke)},move:function move(){var Ke=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;Oe(Ke,!0)},remove:function remove(){qe.removeEventListener("contextmenu",xe),je.removeEventListener("change",ke),Ae.remove()},select:function select(){var Ke=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;Ke&&Ie(Ke)},edit:function edit(){Be&&Ee()},upload:function upload(){Ue&&(je.dataset.id=Ue,je.click())},properties:function properties(){var Ke=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,Ve=we(Ke);Ve&&alert("album name: "+Fe.title+"\nalbum id: "+Ue+"\nimage id: "+Ve.id+"\nDescription:"+Ve.description+"\nUser Id: "+Ve.userId+"\nStatus: "+Ve.status+"\nCreated: "+Ve.created)}}}},contextMenu:{condition:{role:2},style:{width:200},className:"context-menu",name:"contextMenu",relationship:"imageAdministration",constructor:E},fileUploader:{condition:{role:2},limit:{size:2048,upload:2},className:"file-uploader",name:"fileUploader",constructor:I}}},event_index:{title:"Esem\xE9nyek",render:{model:!0},template:"eventPage",component:{guestCalendar:{name:"guestCalendar",viewMode:0,range:{min:2e3,max:2143},id:"guestbook",show:{event:["click",".guestBox .calendarIcon"],place:".guestBox"},datasource:{get:G+"Guest.php?action=index&filter=all",add:G+"Guest.php?action=add",delete:G+"Guest.php?action=delete"},constructor:w},newsCalendar:{name:"newsCalendar",viewMode:0,range:{min:2e3,max:2143},id:"news",show:{event:["click",".stickyNote .calendarIcon"],place:".newsBox"},datasource:{get:G+"News.php?action=index&filter=all",add:G+"News.php?action=add",delete:G+"News.php?action=delete"},constructor:w}}},guestbook_index:{title:"Vend\xE9gk\xF6nyv",render:{model:!0},template:"guestbook",component:{Guestbook:{name:"Guestbook",content:".guestbook .index .content h1",form:{name:"addComment",prefix:"comment_"},storeData:!0,datasource:{add:G+"Guestbook.php?action=add",activate:G+"Guestbook.php?action=activate",delete:G+"Guestbook.php?action=delete"},constructor:function(he,ve){function fe(ze){ve.post(he.datasource.delete,{param:{id:ze}},function(Ae){if(Ae.modelData.deleted){var De=de.current.componentData[ke],Me=Object.keys(De),qe=document.getElementById(he.form.prefix+ze);qe&&qe.remove();var _iteratorNormalCompletion24=!0,_didIteratorError24=!1,_iteratorError24=void 0;try{for(var je,Be,Ne=Me[Symbol.iterator]();!(_iteratorNormalCompletion24=(je=Ne.next()).done);_iteratorNormalCompletion24=!0)if(Be=je.value,De[Be].id==ze)return delete De[Be],ge.add("Hozz\xE1sz\xF3l\xE1s t\xF6r\xF6lve","success")}catch(Fe){_didIteratorError24=!0,_iteratorError24=Fe}finally{try{!_iteratorNormalCompletion24&&Ne.return&&Ne.return()}finally{if(_didIteratorError24)throw _iteratorError24}}}},re)}function ye(ze){var Ae=ze.modelData,De=void 0,Me,qe=de.current.componentData[ke],_iteratorNormalCompletion25=!0,_didIteratorError25=!1,_iteratorError25=void 0;try{for(var je,Ne=Ae[Symbol.iterator]();!(_iteratorNormalCompletion25=(je=Ne.next()).done);_iteratorNormalCompletion25=!0)De=je.value,Me=document.getElementById(he.form.prefix+De.id),Me?(qe.forEach(function(Be,Fe){Be.id==De.id&&(qe[Fe]=De)}),Me.outerHTML=me.getContent("guestbookComment",De)):1==De.status?(qe.push(De),Se.insertAdjacentHTML("afterend",me.getContent("guestbookComment",De))):ge.add("A hozz\xE1sz\xF3l\xE1s elmentve, de j\xF3v\xE1 kell hagyni egy moder\xE1tornak!","success"),Le.style.display="none"}catch(Be){_didIteratorError25=!0,_iteratorError25=Be}finally{try{!_iteratorNormalCompletion25&&Ne.return&&Ne.return()}finally{if(_didIteratorError25)throw _iteratorError25}}}function Ee(){ce.submitForm(we,he.datasource.add,{user_id:ie.userId},ye)}function be(ze){var Ae=Object.keys(ze),De;Ae.forEach(function(Me){De=document.getElementById(xe+"_"+Me),De.value=ze[Me][0],De.style.display=ze[Me][1]}),Le.style.display="block"}function Ie(ze){var Ae=de.current.componentData[ke],De=void 0,_iteratorNormalCompletion26=!0,_didIteratorError26=!1,_iteratorError26=void 0;try{for(var qe,Me=Ae[Symbol.iterator]();!(_iteratorNormalCompletion26=(qe=Me.next()).done);_iteratorNormalCompletion26=!0)De=qe.value,De.id==ze&&be({name:[De.name,"none"],email:[De.email,"none"],id:[ze,"none"],message:[De.message,"block"]})}catch(Ne){_didIteratorError26=!0,_iteratorError26=Ne}finally{try{!_iteratorNormalCompletion26&&Me.return&&Me.return()}finally{if(_didIteratorError26)throw _iteratorError26}}}function Te(){var ze=0<ie.userId;be({name:[ze?"session":"",ze?"none":"block"],email:[ze?"session@session.com":"",ze?"none":"block"],id:["0","block"],message:["","block"]})}function Ce(ze){ve.post(he.datasource.activate,{param:{id:ze}},function(Ae){if(Ae.modelData.status){var De=de.current.componentData[ke],Me=Object.keys(De),qe=document.getElementById(he.form.prefix+ze);if(qe){var Ne=qe.querySelector(".approve");Ne&&Ne.remove()}var _iteratorNormalCompletion27=!0,_didIteratorError27=!1,_iteratorError27=void 0;try{for(var Be,Fe,je=Me[Symbol.iterator]();!(_iteratorNormalCompletion27=(Be=je.next()).done);_iteratorNormalCompletion27=!0)if(Fe=Be.value,De[Fe].id==ze)return De[Fe].status=1,ge.add("Hozz\xE1sz\xF3l\xE1s elfogadva","success")}catch(He){_didIteratorError27=!0,_iteratorError27=He}finally{try{!_iteratorNormalCompletion27&&je.return&&je.return()}finally{if(_didIteratorError27)throw _iteratorError27}}}},re)}var ke=he.name,xe=he.form.name,we=xe+"_Form",Se=document.querySelector(he.content),Le=document.getElementById(we);return{add:function add(){Ee()},fill:function fill(ze){Ie(ze)},newComment:function newComment(){Te()},delete:function _delete(ze){fe(ze)},activate:function activate(ze){Ce(ze)},remove:function remove(){}}}}}},error_index:{title:"Hiba, az oldal le\xE1llt!",template:"errorMsg"}};var le=function(){function he(){_classCallCheck(this,he),this.handler={}}return _createClass(he,[{key:"add",value:function add(ve){var fe=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;"string"==typeof ve&&(this.handler[ve]=fe)}},{key:"run",value:function run(ve,fe){"string"==typeof ve&&"function"==typeof this.handler[ve]&&this.handler[ve](fe)}},{key:"remove",value:function remove(ve){"string"==typeof ve&&this.handler[ve]&&delete this.handler[ve]}}]),he}();var oe=new function(){function he(fe,ye){var be=[],ke;for(ke in fe)if(fe.hasOwnProperty(ke)){var xe=ye?ye+"["+ke+"]":ke,we=fe[ke];be.push(null!==we&&"object"===("undefined"==typeof we?"undefined":_typeof(we))?he(we,xe):encodeURIComponent(xe)+"="+encodeURIComponent(we))}return be.join("&")}function ve(fe,ye){var be=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},ke=arguments[3],xe=arguments[4];if("function"!=typeof xe||"function"!=typeof ke)return alert("Missing classback(s)....");if(!fe)return xe("no settings for request");var we="POST",Se=3e3,Le="FILE"===ye,Ee=Le?"multipart/form-data":"application/x-www-form-urlencoded",Ie=new XMLHttpRequest,Te=ie.domain||"";Le?(Se=15000,be.append("hash",ie.hash||""),be.append("domain",ie.domain||"")):(we=/(GET|POST|PUT|DELETE|FILE)/.test(ye)?ye:"GET",be.hash=ie.hash||"",be.domain=ie.domain||"",be&&(0!==Object.keys(be).length||be.constructor!==Object)?"GET"==we&&(fe+=(~fe.indexOf("?")?"&":"?")+he(be),be=null):be=null),Ie.onreadystatechange=function(){if(4===this.readyState)if(200===this.status){if(!this.response)return xe("no returned data"),!1;var ze=this.response.auth,Ae=this.response.notify;if(ze){var De=ie.role!=ze.role;(ie.hash!=ze.hash||De||ie.domain!=ze.domain)&&(ie=_extends({},ze),localStorage.setItem("Auth",JSON.stringify(ie)),De&&me.visibility())}if(Ae&&ge.add.apply(ge,_toConsumableArray(Ae)),!this.response.success)return xe(this.response);ke(this.response.data||this.response)}else xe(this.status)},Ie.responseType="json",Ie.open(we,fe,!0),Ie.timeout=Se,Ie.ontimeout=function(){var ze=document.body.querySelector(".loader.middle");ze&&ze.remove(),ge.add("Request timeout (limit: "+Se/1e3+"s)","error")},"POST"==we&&be?Le?Ie.send(be):(Ie.setRequestHeader("Content-Type",Ee),Ie.send(he(be))):Ie.send()}return{get:function get(fe){var ye=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null,be=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,ke=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;ve(fe,"GET",ye,be,ke)},post:function post(fe){var ye=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null,be=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,ke=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;ve(fe,"POST",ye,be,ke)},raw:function raw(fe,ye,be){ve(fe.url,fe.method,fe.data,ye,be)},file:function file(fe){var ye=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null,be=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,ke=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;ve(fe,"FILE",ye,be,ke)}}},se=new le,ue=new function(he){function ve(){var _path=be(),Se=_path.base_path,Le=_path.base_arr,Ee=_path.url_array,Ie=_path.query_string,Te=_path.query_array,Ce={prefix:null,controller:null,action:null,param:{}},ze=ke.length,Ae=Object.keys(Ce),De=0,Me=void 0,qe=void 0,Ne=void 0,je=void 0,Be=void 0,Fe=void 0;Ee[0].length||(Ee[0]="home");var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var Pe,He=ke[Symbol.iterator]();!(_iteratorNormalCompletion=(Pe=He.next()).done);_iteratorNormalCompletion=!0)if((Fe=Pe.value,Ne=Fe[0].substr(1).split("/"),Me=Ee.length,qe=0,De=0,Be=Fe[1]?1:0,Ne.length==Me)&&!(Fe[1]&&Ne[0]!=Ee[0])&&Ne[Be]==Ee[Be])for(;qe<Me;qe++){if(je=Ne[qe].charAt(0),":"!==je&&Ne[qe]===Ee[qe]&&3>qe)Ce[Ae[qe+1-Be]]=Ee[qe];else if(":"===je&&0<Ne[qe].length&&0<qe){if(Array.isArray(Fe[3]))if(J[Fe[3][De]].test(Ee[qe]))Ce.param[Ne[qe].substr(1)]=Ee[qe];else return xe(Z,"Not Found");De++}else break;if(qe===Me-1){if(!isNaN(parseInt(Fe[2]))&&ie.role<Fe[2])return xe("/error/403","Forbidden");if(Ce.controller&&!Ce.action&&(Ce.action="index"),Te.length){var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var Ge,Ue=Te[Symbol.iterator]();!(_iteratorNormalCompletion2=(Ge=Ue.next()).done);_iteratorNormalCompletion2=!0)query_param=Ge.value,Object.assign(Ce.param,query_param)}catch(Re){_didIteratorError2=!0,_iteratorError2=Re}finally{try{!_iteratorNormalCompletion2&&Ue.return&&Ue.return()}finally{if(_didIteratorError2)throw _iteratorError2}}}return Ce}}}catch(Re){_didIteratorError=!0,_iteratorError=Re}finally{try{!_iteratorNormalCompletion&&He.return&&He.return()}finally{if(_didIteratorError)throw _iteratorError}}return xe(Z,"Not Found")}function xe(){var Se=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,Le=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,Ee=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;Se&&(history.pushState(null,Le,U+be().base_path),history.replaceState(null,Le,U+Se));var Ie=ve();Ie&&(console.log("Redirecting in router: "+JSON.stringify(Ie)),he.run("redirect",Ie))}function fe(){document.addEventListener("click",function(Se){if(0<Se.button)return console.log("it was not left click, it was "+(ee[Se.button]||"unknow")+" button");for(var Le=Se.target,Ie=0;Ie<3;Ie++)if(Le.hasAttribute("href")){Le.getAttribute("href");break}else{if(!Le.parentElement)return"no href on clicked target also no parent";Le=Le.parentElement}if(!Te)return console.log("no href where i clicked");if("/"===Te.charAt(0))console.log("internal page link was detected"),Se.preventDefault(),xe(Te),burgerCheckbox.checked&&(burgerCheckbox.checked=!1);else if("*"===Te){console.log("special link was detected");var Ce=(Le.dataset.action||[]).split("/");if(!Ce)return console.log("Warning: data-action is empty");var ze=Ce.splice(0,1)[0],Ae=Ce.join("/");if(Le.dataset.allow||Se.preventDefault(),"submit"===ze)ce.submitForm(Ae+"_Form");else if("update"===ze);else if("component"===ze){var De=de.current.component[Ce[0]];De?De[Ce[1]].apply(De,_toConsumableArray(Ce.slice(2))):console.log("missing component",Ce)}else if("toggle"===ze){var qe,Me=-1===Ce[0].indexOf(",")?[Ce]:Ce[0].split(","),Ne=void 0,_iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var Be,je=Me[Symbol.iterator]();!(_iteratorNormalCompletion3=(Be=je.next()).done);_iteratorNormalCompletion3=!0)if(Ne=Be.value,qe=document.getElementById(Ne),!!qe){var Fe="none"===qe.style.display;qe.style.display=Fe?"block":"none",Fe&&qe.scrollIntoView(!1)}}catch(Ve){_didIteratorError3=!0,_iteratorError3=Ve}finally{try{!_iteratorNormalCompletion3&&je.return&&je.return()}finally{if(_didIteratorError3)throw _iteratorError3}}}else if("selectAll"===ze){var Pe=Le.checked,Ue=document.querySelector(Ce),Ge=Ue.querySelectorAll("input[type=\"checkbox\"]"),_iteratorNormalCompletion4=!0,_didIteratorError4=!1,_iteratorError4=void 0;try{for(var Oe,Ke,Re=Ge[Symbol.iterator]();!(_iteratorNormalCompletion4=(Oe=Re.next()).done);_iteratorNormalCompletion4=!0)Ke=Oe.value,Ke.checked=Pe}catch(Ve){_didIteratorError4=!0,_iteratorError4=Ve}finally{try{!_iteratorNormalCompletion4&&Re.return&&Re.return()}finally{if(_didIteratorError4)throw _iteratorError4}}}}else console.log("normal link redirect to other page")}),window.addEventListener("popstate",function(Se){location.href;xe(),Se.preventDefault()},!1)}function ye(Se){history.pushState(null,null,location.href),history.replaceState(null,null,Se),console.log(Se)}function we(){var Se=0<arguments.length&&void 0!==arguments[0]&&arguments[0],Le=U+"/",Ee=de.current.routeData,Ie=Object.keys(Ee.param||{});if(Ee.prefix&&(Le+=Ee.prefix),Le+=Ee.controller+"/"+Ee.action,Ie.length){var _iteratorNormalCompletion5=!0,_didIteratorError5=!1,_iteratorError5=void 0;try{for(var Ce,ze,Te=Ie[Symbol.iterator]();!(_iteratorNormalCompletion5=(Ce=Te.next()).done);_iteratorNormalCompletion5=!0)ze=Ce.value,Le+="/"+Ee.param[ze]}catch(Ae){_didIteratorError5=!0,_iteratorError5=Ae}finally{try{!_iteratorNormalCompletion5&&Te.return&&Te.return()}finally{if(_didIteratorError5)throw _iteratorError5}}}Se&&(Le+="/"+Se),ye(Le)}var be=function(){var Se=encodeURI(location.href).split("#"),Le=Se[0].substr(U.length),Ee=Le.split("?"),Ie=Ee[0],Te=Ie.substr(1).split("/"),Ce=Ee[1]||"",ze=0===Ce.length?[]:Ee[1].split("&").map(function(Ae){var De=Ae.split("=");return _defineProperty({},De[0],De[1]||"")});return"/"===Le&&(Le="/home"),{base_path:Le,base_arr:Ee,base_url:Ie,url_array:Te,query_string:Ce,query_array:ze}},ke=[["/article",!1,null,!1],["/article/add",!1,3,!1],["/article/add/:slug",!1,3,["SLUG"]],["/article/:category_slug",!1,null,["SLUG"]],["/article/view/:slug",!1,null,["SLUG"]],["/home",!1,null,!1],["/event",!1,null,!1],["/guestbook",!1,null,!1],["/video/playlist/:id/:index",!1,null,["SLUG","SLUG"]],["/video/playlist/:id",!1,null,["SLUG"]],["/video",!1,null,!1],["/gallery/album/:slug/:index",!1,null,["SLUG","NUMBER"]],["/gallery/album/:slug",!1,null,["SLUG"]],["/gallery",!1,null,!1],["/user/login",!1,null,!1],["/user/logout",!1,null,!1],["/user/registration",!1,null,!1],["/user",!1,1,!1],["/error/:id",!1,null,["NUMBER"]]];return"complete"===document.readyState?fe():document.onreadystatechange=function(){"complete"===document.readyState&&fe()},{url:function url(){return{base_path:base_path,base_url:base_url,url_array:url_array,query_string:query_string,query_array:query_array}},redirect:function redirect(){var Se=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,Le=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,Ee=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return xe(Se,Le,Ee)},setFullUrl:function setFullUrl(Se){ye(Se)},setUrl:function setUrl(){var Se=0<arguments.length&&void 0!==arguments[0]&&arguments[0];we(Se)},init:function init(){return xe()}}}(se),ce=new function(){function he(Le){return G+Le[0].toUpperCase()+Le.slice(1).toLowerCase()+".php"}function ve(){var Le=0<arguments.length&&arguments[0]!==void 0?arguments[0]:null;if(!Le)return console.log("form not exist");var Ee=Le.querySelectorAll("input, select, textarea"),Ie,Te,Ce,ze,Ae,De=Le.id.split("_")[0],Me=De.length+1,qe={},_iteratorNormalCompletion6=!0,_didIteratorError6=!1,_iteratorError6=void 0;try{for(var je,Be,Ne=Ee[Symbol.iterator]();!(_iteratorNormalCompletion6=(je=Ne.next()).done);_iteratorNormalCompletion6=!0)if(Be=je.value,Ae=Be.getAttribute("name"),Ae||!(Ae.length>Me)){if(Ae=Ae.substr(Me),Ie=Be.value,Be.dataset.rule){if(Ce=Ie.length,Te=Be.dataset.rule.split(","),ze=J[Te[0]],!ze){qe[Ae]=Ie;continue}if("ESCAPE_STRING"===ze){if(Be.dataset.empty&&!Ie){qe[Ae]=Ie;continue}if(Ce<Te[1]||Ce>Te[2])return Be.title?Be.title:"Invalid data at "+Ae+" field ("+Te[1]+", "+Te[2]+")";qe[Ae]=Ie.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}else if(!(ze.test(Ie)||Be.dataset.empty&&!Ie)||Ce<Te[1]||Ce>Te[2])return Be.focus(),Be.title?Be.title:"Invalid data at "+Ae+" field ("+Te[1]+", "+Te[2]+")"}if(Be.dataset.same&&(Te=document.getElementById(Be.dataset.same),!Te||Ie!==Te.value))return Be.focus(),Be.title?Be.title:Ae+" not same than "+Te.name+" field";qe[Ae]=Ie}}catch(Fe){_didIteratorError6=!0,_iteratorError6=Fe}finally{try{!_iteratorNormalCompletion6&&Ne.return&&Ne.return()}finally{if(_didIteratorError6)throw _iteratorError6}}return qe}function fe(Le,Ee){var Ie=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},Te=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,Ce=Le.dataset.method,ze=Le.dataset.action.split("/"),Ae=ze[0]+"_"+ze[1],De=void 0,Me=void 0;return De=ve(Le),"string"==typeof De?ge.add(De,"error"):void(Ee=Ee||he(ze[0]),Me={action:ze[1],param:Object.assign(De,Ie)},be({url:Ee,method:Ce,data:Me},!0,Te))}function Se(Le,Ee,Ie){be({url:he(Le),method:"GET",data:{action:Ee,param:Ie}})}function ye(Le,Ee){if(!Le)return console.log("empty render function");if("redirect"===Le&&ke.redirect(Ee.url),"build"===Le||"multicall"===Le)return me[Le](Ee);var Ie=Le.split(".");return 2===Ie.length?me[Ie[0]](Ie[1],Ee)?void 0:console.log("render function not exist"):console.log("invalid render function string")}function be(Le){var Te=1<arguments.length&&arguments[1]!==void 0?arguments[1]:!0,Ce=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,ze=!1;if(Te){if(ze=Le.url.replace(/[^a-zA-Z_0-9]+/g,""),xe[ze])return ge.add("Request already running, please wait till it finished","error");xe[ze]=!0}oe.raw(Le,function(Ae){ze&&delete xe[ze],Ce?Ce(Ae):Ae.renderFunc&&ye(Ae.renderFunc,Ae.modelData)},function(Ae){if(ze&&delete xe[ze],Ae.data&&Ae.data.renderFunc){var De=document.body.querySelector(".loader.middle");De&&(De.remove(),ue.redirect("/error/404"))}})}var ke=0<arguments.length&&arguments[0]!==void 0&&arguments[0],xe={},we={YouTube:{localData:{key:"your-api-key",channelId:"UCju4wi5kFZ80lV8QHrm8lXg",part:"snippet,contentDetails",title:"Gy\u0151zelem Gy\xFClekezet",maxResults:"25",playList:[],videoList:{}},getData:function getData(){function Le(Ce){var ze=Te.playList;return Ce.items?(Ce.items.forEach(function(Ae){ze.push({id:Ae.id,title:Ae.snippet.title,img:Ae.snippet.thumbnails.medium.url,date:Ae.snippet.publishedAt,counter:Ae.contentDetails.itemCount})}),me.build([ze])):console.log("no item in data")}function Ee(Ce){var ze=0,Ae=Te.videoList[Ie.id]||[],De=Ie.index||0;return Ce.items?void(Ce.items.forEach(function(Me){ze++,Ae.push({id:Me.contentDetails.videoId,parentId:Te.id,index:ze,title:Me.snippet.title,img:Me.snippet.thumbnails.medium.url})}),me.build([Ae])):console.log("no items property on data")}var Ie=0<arguments.length&&arguments[0]!==void 0?arguments[0]:null,Te=this.localData;if(0<Te.playList.length&&!Ie.id)return me.build([Te.playList]);return Ie.id&&Te.videoList&&Te.videoList[Ie.id]&&Te.videoList[Ie.id].length?me.build([Te.videoList[Ie.id]]):void(Ie.id?oe.get("https://www.googleapis.com/youtube/v3/playlistItems",{playlistId:Ie.id,maxResults:Te.maxResults,key:Te.key,part:Te.part},Ee,Ee):oe.get("https://www.googleapis.com/youtube/v3/playlists",{channelId:Te.channelId,maxResults:Te.maxResults,key:Te.key,part:Te.part},Le,Le))}}};return{getPageData:function getPageData(Le,Ee,Ie){return Se(Le,Ee,Ie)},submitForm:function submitForm(Le){var Ee=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null,Ie=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},Te=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;if("string"!=typeof Le)return console.log("invalid submit link");var Ce=document.getElementById(Le);return Ce?fe(Ce,Ee,Ie,Te):alert("Invalid form!")},getCustomData:function getCustomData(Le,Ee){if(4<Le.length&&"Api."===Le.substr(0,4)){if(Le=Le.substr(4),!we[Le]||!we[Le].getData)return console.log("Api undefined ("+Le+")");we[Le].getData(Ee)}}}}(ue),me=new function(){function he(){var Le=[[".guest_only",0===ie.role],[".logged_only",0<ie.role],[".member_only",1<ie.role],[".moderator_only",2<ie.role],[".admin_only",3<ie.role]],Ee=void 0;fe();var _iteratorNormalCompletion15=!0,_didIteratorError15=!1,_iteratorError15=void 0;try{for(var Te,Ie=Le[Symbol.iterator]();!(_iteratorNormalCompletion15=(Te=Ie.next()).done);_iteratorNormalCompletion15=!0)Ee=Te.value,ve.apply(void 0,_toConsumableArray(Ee))}catch(Ce){_didIteratorError15=!0,_iteratorError15=Ce}finally{try{!_iteratorNormalCompletion15&&Ie.return&&Ie.return()}finally{if(_didIteratorError15)throw _iteratorError15}}}function ve(Le){var Ee=1<arguments.length&&void 0!==arguments[1]&&arguments[1],Ie=document.body.querySelectorAll(Le),Te=void 0,Ce=Ee?"remove":"add",_iteratorNormalCompletion16=!0,_didIteratorError16=!1,_iteratorError16=void 0;try{for(var Ae,ze=Ie[Symbol.iterator]();!(_iteratorNormalCompletion16=(Ae=ze.next()).done);_iteratorNormalCompletion16=!0)Te=Ae.value,Te.classList.contains("hidden")===Ee&&Te.classList[Ce]("hidden")}catch(De){_didIteratorError16=!0,_iteratorError16=De}finally{try{!_iteratorNormalCompletion16&&ze.return&&ze.return()}finally{if(_didIteratorError16)throw _iteratorError16}}}function fe(){var Le=de.global.component;Le&&"object"==("undefined"==typeof Le?"undefined":_typeof(Le))&&null!=Le&&function(){var Ee=Object.keys(Le),Ie=de.current.component||{},Te=Object.keys(Ie);Te.length||(de.current.component={});var Ce=void 0,ze=void 0,Ae="add",De=void 0,Me=void 0,_iteratorNormalCompletion17=!0,_didIteratorError17=!1,_iteratorError17=void 0;try{for(var Ne,_ret2,_loop=function(){var je=Ne.value;if(Ce=Le[je].condition,Me=-1!==Te.indexOf(je),!Ce){if(Me)return"continue";Ae="add"}else if(De=!1,Ce.role&&(De=ie.role>=Ce.role),De&&!Me)Ae="add";else if(!De&&Me&&Ie[je].remove)Ae="remove";else return"continue";"add"==Ae?(de.current.component[je]="soon ready",setTimeout(function(){ze=Le[je],de.current.component[je]=new ze.constructor(ze,oe)},300)):(Ie[je].remove(),delete de.current.component[je],delete de.current.componentData[je])},qe=Ee[Symbol.iterator]();!(_iteratorNormalCompletion17=(Ne=qe.next()).done);_iteratorNormalCompletion17=!0)_ret2=_loop(),"continue"===_ret2}catch(je){_didIteratorError17=!0,_iteratorError17=je}finally{try{!_iteratorNormalCompletion17&&qe.return&&qe.return()}finally{if(_didIteratorError17)throw _iteratorError17}}}()}function we(){var De=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,Le=de.current,_current$routeData=Le.routeData,Ee=_current$routeData.controller,Ie=_current$routeData.action,Te=_current$routeData.param,Ce=de[Ee+"_"+Ie],ze=void 0,Ae=void 0;if(De=De||[Te],ze=xe.pageContainer(Ee,Ie,xe[Ce.template].apply(xe,_toConsumableArray(De))),de.global.pageContent.innerHTML=ze||"",Ae=de.global.pageContent.querySelector(".page ."+Ee+" ."+Ie)||null,Le=Object.assign(Le,{title:Ce.title,data:De,dom:Ae}),document.title=Le.title||"",Ae&&Ce.modalPage&&(document.body.classList.add("overflow-hidden"),Ae.dataset.modal=!0),Ae||console.log("View not exist, please contact with Admin!"),Ce.component){var qe,Me=Ce.component;Le.component||(Le.component={}),Object.keys(Me).forEach(function(Ne){return Le.component[Ne]?void(Le.component[Ne].hasOwnProperty("reload")&&Le.component[Ne].reload()):void setTimeout(function(){if(qe=Me[Ne],qe.condition){var je=qe.condition;if(je.role&&ie.role<je.role)return console.log("Component "+Ne+" need higher permission!")}Le.componentData[Ne]=qe.storeData?De[0]:{},Le.component[Ne]=new qe.constructor(qe,oe)},0)})}}function Se(){var _pages$current=de.current,Le=_pages$current.dom,Ee=_pages$current.title,Ie=_pages$current.data,Te=_pages$current.component,Ce=_pages$current.componentData;Le&&Le.dataset.modal&&document.body.classList.remove("overflow-hidden"),Te&&Object.keys(Te).forEach(function(qe){-1<ke.indexOf(qe)||!Te[qe].remove||(Te[qe].remove(),delete de.current.component[qe],delete de.current.componentData[qe])}),Le.innerHTML="";var ze=Object.keys(de.current),_iteratorNormalCompletion18=!0,_didIteratorError18=!1,_iteratorError18=void 0;try{for(var De,Me,Ae=ze[Symbol.iterator]();!(_iteratorNormalCompletion18=(De=Ae.next()).done);_iteratorNormalCompletion18=!0)Me=De.value,"component"!=Me&&"componentData"!=Me&&delete de.current[Me]}catch(qe){_didIteratorError18=!0,_iteratorError18=qe}finally{try{!_iteratorNormalCompletion18&&Ae.return&&Ae.return()}finally{if(_didIteratorError18)throw _iteratorError18}}}var ye={multicall:function multicall(Le,Ee){var Ie=void 0,_iteratorNormalCompletion7=!0,_didIteratorError7=!1,_iteratorError7=void 0;try{for(var Ce,Te=Le[Symbol.iterator]();!(_iteratorNormalCompletion7=(Ce=Te.next()).done);_iteratorNormalCompletion7=!0){if(Ie=Ce.value,Ee=Ie.pop(),!me[Ee]){console.log("missing: "+Ee);continue}me[Ee].apply(me,_toConsumableArray(Ie))}}catch(ze){_didIteratorError7=!0,_iteratorError7=ze}finally{try{!_iteratorNormalCompletion7&&Te.return&&Te.return()}finally{if(_didIteratorError7)throw _iteratorError7}}},redirect:function redirect(Le){console.log("redirect function was executed in View: "+Le),ue.redirect(Le)}},be=de.global.component,ke=Object.keys(be),xe={audioPlayer:function audioPlayer(Le){return"<div id=\"audioPlayer\">\n\t\t\t\t\t\t<div class=\"header not_selectable\">\n\t\t\t\t\t\t\t"+Le.title+"\n\t\t\t\t\t\t\t<div class=\"close\"><a href=\"*\" data-action=\"toggle/audioPlayer\">&times;</a></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"details not_selectable\">\n\t\t\t\t\t\t\t<div class=\"title\"> Select something</div>\n\t\t\t\t\t\t\t<div class=\"track-timer\">\n\t\t\t\t\t\t\t\t<span class=\"currentTime\"> 00:00 </span> / <span class=\"duration\"> 00:00 </span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<input class=\"track\" type=\"range\" min=\"0\" max=\"0\"><br>\n\n\t\t\t\t\t\t\t<div class=\"volume_row\">\n\t\t\t\t\t\t\t\t<span class=\"loop_icon\" href=\"*\" data-action=\"component/"+Le.name+"/button/loopButton\" title=\"If audio reach to the end then jump to next audio file\">&infin;</span>\n\t\t\t\t\t\t\t\t<span class=\"anchor_icon\" href=\"*\" data-action=\"component/"+Le.name+"/button/anchorButton\" title=\"If loop is on then same audio will be played after it is ended\">&#9875;</span>\n\t\t\t\t\t\t\t\t<span class=\"random_icon\" href=\"*\" data-action=\"component/"+Le.name+"/button/randomButton\" title=\"Next audio will be random\">&#x2608;</span>\n\t\t\t\t\t\t\t\t<span class=\"spacer\"></span>\n\t\t\t\t\t\t\t\t<span class=\"speaker_icon\" title=\"Change audio volume\">&#128266;</span>\n\t\t\t\t\t\t\t\t<span class=\"volume_bar\">\n\t\t\t\t\t\t\t\t\t<div class=\"volume_dir\">-</div>\n\t\t\t\t\t\t\t\t\t<input class=\"volume\" type=\"range\" min=\"0\" max=\"100\">\n\t\t\t\t\t\t\t\t\t<div class=\"volume_dir\">+</div>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<center>\n\t\t\t\t\t\t\t\t<div href=\"*\" data-action=\"component/"+Le.name+"/button/playButton\" class=\"button\">\n\t\t\t\t\t\t\t\t\t<div class=\"play\"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div href=\"*\" data-action=\"component/"+Le.name+"/button/pauseButton\" class=\"button\">\n\t\t\t\t\t\t\t\t\t<div class=\"pause\"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div href=\"*\" data-action=\"component/"+Le.name+"/button/stopButton\" class=\"button\">\n\t\t\t\t\t\t\t\t\t<div class=\"stop\"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</center>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"container\">\n\t\t\t\t\t\t\t<div class=\"list content\"></div>\n\t\t\t\t\t\t\t<input type=\"range\" class=\"scrollBar\" value=\"0\" min=\"0\" max=\"100\">\n\t\t\t\t\t\t</div>\n\t\t\t\t</div>"},videoPlaylist:function videoPlaylist(Le){var Ee="";return Le.forEach(function(Ie){Ee+="<div class=\"video-box\">\n\t\t\t\t\t\t<a href=\"/video/playlist/"+Ie.id+"\" title=\""+Ie.title+" playlist\">\n\t\t\t\t\t\t\t<img src=\""+Ie.img+"\" alt=\""+Ie.title+" cover\">\n\t\t\t\t\t\t\t<p> Lista: <b>"+Ie.title+"</b> ("+Ie.counter+") </p>\n\t\t\t\t\t\t</a></div>"}),"<div class=\"video-box-container\">"+Ee+"</div>"},videoList:function videoList(Le){var Ee="";return Le.forEach(function(Ie){Ee+="<div class=\"video-box\">\n\t\t\t\t\t\t\t\t<a href=\"*\" data-action=\"component/youtubeViewer/show/"+Ie.id+"\" title=\""+Ie.title+" playlist\">\n\t\t\t\t\t\t\t\t\t<img src=\""+Ie.img+"\" alt=\""+Ie.title+" cover\">\n\t\t\t\t\t\t\t\t\t<p><b>"+Ie.title+"</b></p>\n\t\t\t\t\t\t\t</a></div>"}),"<div class=\"video-box-container\">"+Ee+"</div>"},albumCreate:function albumCreate(Le){var Ee=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return null==Ee&&(Ee=2<ie.role?"<input type='checkbox' name='albums[]'>":""),"<div class='album-box' id='album_"+Le.id+"' data-id=\""+Le.id+"\" data-context=\"true\">\n\t\t\t\t\t\t"+Ee+"\n\t\t\t\t\t\t<a href='/gallery/album/"+Le.slug+"' title='"+Le.title+" album: "+Le.description+"'>\n\t\t\t\t\t\t\t<img src='"+(K+(Le.coverImage||"empty.png"))+"' alt='"+Le.title+"'>\n\t\t\t\t\t\t\t<p><span class=\"title\">"+Le.title+"</span>("+Le.created+")</p>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>"},albumList:function albumList(Le){var Ie="",Te=2<ie.role?"<input type='checkbox' name='albums[]'>":"";return Le.forEach(function(Ce){(1==Ce.status||Te)&&(Ie+=xe.albumCreate(Ce,Te))}),"<div class=\"album-box-container\">"+Ie+"</div>"},albumImageCreate:function albumImageCreate(Le){var Ee=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return null==Ee&&(Ee=2<ie.role?"<input type='checkbox' name='albums[]'>":""),"<div class='image-box' id='image_"+Le.id+"' data-id=\""+Le.id+"\" data-context=\"true\">\n\t\t\t\t\t\t"+Ee+"\n\t\t\t\t\t\t<a href='*' data-action=\"component/imageViewer/show/"+Le.index+"\" title='"+Le.description+"'>\n\t\t\t\t\t\t\t<img src='"+(K+Le.path)+"' alt='"+Le.description+"'>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>"},albumImageList:function albumImageList(Le){var Ae=2<ie.role?"<input type='checkbox' name='images[]'>":"",_data=_slicedToArray(Le,3),Ee=_data[0],Ie=_data[1],Te=_data[2],Ce="",ze="";return Ie.forEach(function(De){Ce+="<li><a href='/gallery/album/"+De.slug+"' title='"+De.title+"'>"+De.title+"</a></li>"}),Te.forEach(function(De){ze+=xe.albumImageCreate(De,Ae)}),"<div class=\"album-list\">\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<label for=\"dropdown01\" class=\"selected-album\"><a title='"+Ee.title+"'>"+Ee.title+"</a></label>\n\t\t\t\t\t\t\t<input id=\"dropdown01\" type=\"checkbox\" class=\"hidden\"/>\n\t\t\t\t\t\t\t<ul class=\"album-link-list\">\n\t\t\t\t\t\t\t\t"+Ce+"\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"image-box-container\">\n\t\t\t\t\t"+ze+"\n\t\t\t\t</div>\t"},adminSidePanelBone:function adminSidePanelBone(){var Le=0<arguments.length&&void 0!==arguments[0]?arguments[0]:["",""];return"<div id=\""+Le[0]+"\" class=\"adminSideComponent\">\n\t\t\t\t\t\t\t<label for=\"adminSideCheckbox\">\n\t\t\t\t\t\t\t<div class=\"toggleButton\">\n\t\t\t\t\t\t\t\t<div>Admin</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<input type=\"file\" multiple accept=\"image/.jpeg,.jpg\" data-hide=\"true\">\n\t\t\t\t\t\t\t<input type=\"checkbox\" id=\"adminSideCheckbox\" data-hide=\"true\">\n\t\t\t\t\t\t\t<div class=\"wrapper\">\n\t\t\t\t\t\t\t<div class=\"content\">\n\t\t\t\t\t\t\t\t"+Le[1]+"\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>"},errorMsg:function errorMsg(Le){return"<b>Error "+Le.id+":</b> "+$[Le.id]},loginForm:function loginForm(){return"\n\t\t\t\t\t\t<div class=\"modal-layer chrr_trnspnt_bg\"></div>\n\t\t\t\t\t\t<img src=\"/img/static/logo.png\" class=\"page_logo hide-tablet\">\n\t\t\t\t\t\t<div class=\"modal-layer lght_blck_trnspnt_bg\"></div>\n\t\t\t\t\t\t<div class=\"form_window\" id=\"login_Form\" data-method=\"POST\" data-action=\"user/login\">\n\t\t\t\t\t\t\t<h1>Bejelentkez\xE9s</h1><br>\n\t\t\t\t\t\t\t<input id=\"login_email\" name=\"login_email\" type=\"text\" placeholder=\"Email c\xEDm\" title=\"K\xE9rem adjon meg egy val\xF3s email c\xEDmet\" data-rule=\"EMAIL,5,50\">\n\t\t\t\t\t\t\t<input id=\"login_password\" name=\"login_password\" type=\"password\" placeholder=\"Jelsz\xF3\" title=\"K\xE9rem adjon meg egy jelsz\xF3t, az angol ABC bet\u0171it \xE9s/-vagy sz\xE1mok felhaszn\xE1las\xE1val\" data-rule=\"ALPHA_NUM,6,32\"><br>\n\t\t\t\t\t\t\t<a href=\"*\" data-action=\"submit/login\"><button class=\"button col-gray\"> Bejelentkez\xE9s </button></a>\n\t\t\t\t\t\t\t<a href=\"/user/registration\"><button class=\"button col-gray\"> Regisztr\xE1l\xE1s </button></a>\n\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t<a href=\"/home\"><button class=\"button col-gray\"> Vissza </button></a>\n\t\t\t\t\t\t</div>"},signupForm:function signupForm(){return"<div class=\"modal-layer brwn_trnspnt_bg\"></div>\n\t\t\t\t\t\t<div class=\"modal-layer sm_blck_trnspnt_bg\"></div>\n\t\t\t\t\t\t<img src=\"/img/static/logo.png\" class=\"page_logo hide-tablet\">\n\t\t\t\t\t\t<div class=\"form_window\" id=\"signup_Form\" data-method=\"POST\" data-action=\"user/add\">\n\t\t\t\t\t\t\t<h1>Regisztr\xE1l\xE1s</h1><br>\n\t\t\t\t\t\t\t<input id=\"signup_name\" name=\"signup_name\" type=\"text\" placeholder=\"Teljes n\xE9v\" title=\"K\xE9rem adja meg a nev\xE9t a magyar ABC bet\u0171it haszn\xE1lva (5-50 karakter)\" data-rule=\"NAME_HUN,5,50\">\n\t\t\t\t\t\t\t<input id=\"signup_email\" name=\"signup_email\" type=\"email\" placeholder=\"E-mail c\xEDm\" title=\"K\xE9rem egy val\xF3s email c\xEDmet adjon meg\" data-rule=\"EMAIL,5,50\">\n\t\t\t\t\t\t\t<input id=\"signup_password\" name=\"signup_password\" type=\"password\" placeholder=\"Jelsz\xF3\" title=\"K\xE9rem adjon meg egy jelsz\xF3t, az angol ABC bet\u0171it \xE9s/-vagy sz\xE1mok felhaszn\xE1las\xE1val (6-32 karakter)\" data-rule=\"ALPHA_NUM,6,32\">\n\t\t\t\t\t\t\t<input id=\"signup_password2\" name=\"signup_password2\" type=\"password\" placeholder=\"Jelsz\xF3 \xFAjra\" title=\"K\xE9rem adjon meg egy jelsz\xF3t \xFAjra ami megegyezik a m\xE1sik jelsz\xF3 mez\u0151vels\" data-same=\"signup_password\"><br>\n\t\t\t\t\t\t\t<a href=\"*\" data-action=\"submit/signup\" title=\"Fi\xF3k elkesz\xEDt\xE9se\"><button class=\"button col-gray reg\"> Rendben</button></a>\n\t\t\t\t\t\t\t<a href=\"/home\"><button class=\"button col-gray\"> Vissza </button></a><br><br>\n\t\t\t\t\t\t\t<a href=\"/user/login\" title=\"Jelentkezen be ha van m\xE1r fi\xF3kja\">... vagy jelentkezen be</a>\n\t\t\t\t\t\t</div>"},userView:function userView(Le){return"<div class=\"userView\"><h1>Felhaszn\xE1l\xF3k</h1>\n\t\t\t\t\t\t\t\t"+Le+"\n\t\t\t\t\t\t\t\t</div>"},homePage:function homePage(Le){return"\n\t\t\t\t\t\t<main>\n\t\t\t\t\t\t\t<img src=\"/img/static/logo.png\" class=\"page_logo\">\n\t\t\t\t\t\t\t<div class=\"content\">\n\t\t\t\t\t\t\t\t<div class=\"header\">\n\t\t\t\t\t\t\t\t\t<h1\n\t\t\t\t\t\t\t\t\t\tdata-welcome-short=\"Isten hozott\"\n\t\t\t\t\t\t\t\t\t\tdata-welcome-medium=\"Isten hozott az oldalunkon\"\n\t\t\t\t\t\t\t\t\t\tdata-welcome-long=\"Isten hozott a Gy\u0151zelem Gy\xFClekezet oldal\xE1n\"\n\t\t\t\t\t\t\t\t\t> </h1><br><br>\n\t\t\t\t\t\t\t\t\t<div class=\"media\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"coverFrame\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"coverPicture\"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class=\"stickyNote\">\n\t\t\t\t\t\t\t\t\t\t\t"+Le.home_last_note+"\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t\t"+Le.home_about+"\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</main>\n\t\t\t\t\t\t<aside>\n\t\t\t\t\t\t\t<div class=\"fund\">\n\t\t\t\t\t\t\t\t"+Le.home_fund+"\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"social\">\n\t\t\t\t\t\t\t\t"+Le.home_social+"\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"service\">\n\t\t\t\t\t\t\t\t"+Le.home_contact+"\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</aside>"},scheduleBox:function scheduleBox(Le){var Ee="<h1>Program</h1>",Ie="<div id=\"scheduleEdit_Form\" data-method=\"POST\" data-action=\"schedule/edit\">",Te=2<ie.role?"<a href=\"*\" data-action=\"toggle/schedule_view_div,schedule_edit_div\" class=\"btn type-4 edit\">\u2699</a>":"",Ce="",ze=[],_iteratorNormalCompletion8=!0,_didIteratorError8=!1,_iteratorError8=void 0;try{for(var De,Me,Ae=Le[Symbol.iterator]();!(_iteratorNormalCompletion8=(De=Ae.next()).done);_iteratorNormalCompletion8=!0)Me=De.value,Ee+="<div class=\"schedule\"><h2>"+Me.event_name+"</h2><p>"+Me.event_at+"</p></div>",Ie+="<input id=\"scheduleEdit_event_name\" name=\"scheduleEdit_event_name_"+Me.id+"\" value=\""+Me.event_name+"\" type=\"text\" placeholder=\"Megnevez\xE9s\" title=\"A megnevez\xE9s hossza 3 \xE9s 100 karakter k\xF6z\xF6tt kell lennie\" data-rule=\"STRING,3,100\">\n\t\t\t\t\t\t<input id=\"scheduleEdit_event_at\" name=\"scheduleEdit_event_at_"+Me.id+"\" value=\""+Me.event_at+"\" type=\"text\" placeholder=\"Megnevez\xE9s\" title=\"A megnevez\xE9s hossza 3 \xE9s 100 karakter k\xF6z\xF6tt kell lennie\" data-rule=\"STRING,3,100\">",ze.push(Me.id)}catch(qe){_didIteratorError8=!0,_iteratorError8=qe}finally{try{!_iteratorNormalCompletion8&&Ae.return&&Ae.return()}finally{if(_didIteratorError8)throw _iteratorError8}}return Ie+="<input id=\"scheduleEdit_id\" name=\"scheduleEdit_ids\" value=\""+ze.join(",")+"\" type=\"text\" data-rule=\"STRING,0,11\" class=\"hide\">\n\t\t\t\t<br><br><a href=\"*\" data-action=\"submit/scheduleEdit\" title=\"Ment\xE9s\" class=\"btn type-3\"> Ment </a></div>",2<ie.role&&(Ce="<div class=\"edit_box text-center\" style=\"display: none;\" id=\"schedule_edit_div\"><h3>V\xE1ltoztat\xE1s!</h3><br> "+Ie+" </div>"),"<div class=\"scheduleBox\">"+Te+"\n\t\t\t\t\t\t<div class=\"content\">\n\t\t\t\t\t\t\t<div id=\"schedule_view_div\"> "+Ee+"<br><br><br><h3>Mindenkit szeretettel v\xE1runk!</h3></div>\n\t\t\t\t\t\t\t"+Ce+"\n\t\t\t\t\t\t</div></div>"},guestBox:function guestBox(Le){var Ee=void 0,Ie="<h1>Vend\xE9gek</h1>";if(0<Le.length){var _iteratorNormalCompletion9=!0,_didIteratorError9=!1,_iteratorError9=void 0;try{for(var Ce,Te=Le[Symbol.iterator]();!(_iteratorNormalCompletion9=(Ce=Te.next()).done);_iteratorNormalCompletion9=!0)Ee=Ce.value,Ie+="<div class=\"guest\"><h2>"+Ee.title+"</h2><br>"+Ee.message+"<p>"+Ee.created+"</p></div>"}catch(ze){_didIteratorError9=!0,_iteratorError9=ze}finally{try{!_iteratorNormalCompletion9&&Te.return&&Te.return()}finally{if(_didIteratorError9)throw _iteratorError9}}}else Ie+="<div class=\"guest\"><p>a lista \xFCres</p></div>";return Ie+="<div class=\"calendarIcon\"><a href=\"*\" data-action=\"toggle/cal_guestbook\"><div class=\"calendar-icon icon-48\"></div></a></div>","<div class=\"guestBox\"><div class=\"content\">"+Ie+"</div></div>"},userCreateRow:function userCreateRow(){var Te=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";if(""!=Te){var _data2=_slicedToArray(Te,2),Le=_data2[0],Ee=_data2[1],Ie=ie.userId==Le.id?"":"<a href=\"*\" data-action=\"component/messageCenter/userTarget/"+Le.id+"\"><div class=\"mini-icon pm-icon focusable-icon\"></div></a>";return"<tr href=\"*\" data-action=\"component/"+Ee+"/select/"+Le.id+"\" data-id=\""+Le.id+"\">\n\t\t\t\t\t<td data-field=\"name\">"+Le.name+"</td>\n\t\t\t\t\t<td data-field=\"rank\" class=\"hide-phone\">"+(W[Le.rank]||"Unknown")+"</td>\n\t\t\t\t\t<td data-field=\"status\">"+(Y[Le.status]||"Unknown")+"</td>\n\t\t\t\t\t<td data-field=\"lasttime\" class=\"hide-phone\">"+(Le.updated||Le.created)+"</td>\n\t\t\t\t\t<td data-field=\"tools\">"+Ie+"</td>\n\t\t\t\t\t</tr>"}},userCreateShortRow:function userCreateShortRow(){var Le=0<arguments.length&&void 0!==arguments[0]&&arguments[0];if(!Le)return"";var Ee=ie.userId==Le.id?"":"<a href=\"*\" data-action=\"component/messageCenter/userTarget/"+Le.id+"\"><div class=\"mini-icon pm-icon focusable-icon\"></div></a>";return"<tr data-id=\""+Le.id+"\">\n\t\t\t\t\t<td data-field=\"name\">"+Le.name+"</td>\n\t\t\t\t\t<td data-field=\"lasttime\" class=\"hide-phone\">"+(Le.updated||Le.created)+"</td>\n\t\t\t\t\t<td data-field=\"tools\">"+Ee+"</td>\n\t\t\t\t\t</tr>"},usersPage:function usersPage(Le){console.log(Le);var Ee,Ie="";return 2<ie.role?Ee="<th>Name</th>\n\t\t\t\t\t<th class=\"hide-phone\">Rank</th>\n\t\t\t\t\t<th>Status</th>\n\t\t\t\t\t<th class=\"hide-phone\"> Last login </th>\n\t\t\t\t\t<th></th>":(Ee="<th>Name</th>\n\t\t\t\t\t<th class=\"hide-phone\"> Last login </th>\n\t\t\t\t\t<th>Message</th>",Ie="<tr>"+Le.map(function(Te){return xe.userCreateShortRow(Te)}).join("</tr><tr>")+"</tr>"),"<main>\n\t\t\t\t\t<table>\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr>"+Ee+"</tr>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t"+Ie+"\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t</main>"},eventPage:function eventPage(Le){var Ee="";return Ee+=this.scheduleBox(Le.schedule),Ee+=this.guestBox(Le.guests),Ee+="<div class=\"newsBox\"><div class=\"content\"><div class=\"stickyNote\">"+Le.news+"</div></div></div>",Ee+="\n\t\t\t\t<div class=\"googleMaps\">\n\t\t\t\t\t<div class=\"content\">\n\t\t\t\t\t\t<h1>Nagyv\xE1radi gy\xFClekezet\xFCnk itt tal\xE1lhat\xF3</h1>\n\t\t\t\t\t\t<iframe src=\"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d5435.928819643834!2d21.929802999629814!3d47.06054848694138!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x474647e056cf23f9%3A0x9a1c1b519cdc1b5b!2sStrada+Dun%C4%83rea+13%2C+Oradea!5e0!3m2!1sro!2sro!4v1524975411442\" frameborder=\"0\" allowfullscreen></iframe>\n\t\t\t\t\t\t<iframe src=\"https://www.google.com/maps/embed?pb=!4v1524973259460!6m8!1m7!1sZLPtaM6ornwjZnrdr6jz0w!2m2!1d47.06164013604532!2d21.93405346801144!3f24.20144629559638!4f-2.604647556893454!5f0.7820865974627469\" frameborder=\"0\" allowfullscreen></iframe>\n\t\t\t\t\t</content>\n\t\t\t\t</div>",Ee},articleAddPage:function articleAddPage(Le){var Ee=Le.categories,_data$article=Le.article,Ie=void 0===_data$article?{title:"",id:0,category_slug:"",content:""}:_data$article,Te=Object.keys(Ee),Ce=W.length,ze=Ie.title.length?"Cikk szerkeszt\xE9s":"Cikk hozz\xE1ad\xE1sa",Ae="",De="";document.title=ze;var _iteratorNormalCompletion10=!0,_didIteratorError10=!1,_iteratorError10=void 0;try{for(var Ne,je,qe=Te[Symbol.iterator]();!(_iteratorNormalCompletion10=(Ne=qe.next()).done);_iteratorNormalCompletion10=!0)je=Ne.value,Ae+="<option value=\""+je+"\" "+(je==Ie.category_slug?"selected":"")+">"+Ee[je]+"</option>"}catch(Be){_didIteratorError10=!0,_iteratorError10=Be}finally{try{!_iteratorNormalCompletion10&&qe.return&&qe.return()}finally{if(_didIteratorError10)throw _iteratorError10}}for(var Me=0;Me<Ce;Me++)De+="<option value=\""+Me+"\" "+(Me==Ie.rank?"selected":"")+">"+W[Me]+"</option>";return"<div class=\"form_content\" id=\"articleAdd_Form\" data-method=\"POST\" data-action=\"article/add\">\n\t\t\t\t\t\t\t<h1>"+ze+"</h1><br>\n\t\t\t\t\t\t\t<input id=\"articleAdd_id\" class=\"hide\" name=\"articleAdd_id\" value=\""+Ie.id+"\" type=\"number\" title=\"Wrong id\" data-rule=\"INTEGER,0,11\">\n\t\t\t\t\t\t\t<div class=\"wrapper\">\n\t\t\t\t\t\t\t\t<select id=\"articleAdd_category_slug\" name=\"articleAdd_category_slug\">"+Ae+"</select>\n\t\t\t\t\t\t\t\t<select id=\"articleAdd_rank\" name=\"articleAdd_rank\">"+De+"</select>\n\t\t\t\t\t\t\t\t<input id=\"articleAdd_title\" name=\"articleAdd_title\" value=\""+Ie.title+"\" type=\"text\" placeholder=\"Teljes n\xE9v\" title=\"A c\xEDm hossza 3 \xE9s 100 karakter k\xF6z\xF6tt kell lennie\" data-rule=\"STRING,3,100\">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<textarea id=\"articleAdd_content\" name=\"articleAdd_content\" placeholder=\"Sz\xF6veg\" title=\"A sz\xF6veg hossza 5 \xE9s 65535 karakter k\xF6z\xF6tt kell lennie\" data-rule=\"STRING,5,65535\">"+Ie.content+"</textarea>\n\t\t\t\t\t\t\t<a href=\"*\" data-action=\"submit/articleAdd\" class=\"btn type-3\" title=\"Cikk lement\xE9se\"> Elment </a>\n\t\t\t\t\t\t</div>"},articleViewPage:function articleViewPage(Le){var Ee=Le.article,Ie=2<ie.role?"<div class=\"tools text-right\">\n\t\t\t\t\t\t<div class=\"form_content\" id=\"articleDel_Form\" data-method=\"POST\" data-action=\"article/delete\" class=\"hide\">\n\t\t\t\t\t\t\t<input id=\"articleDel_id\" name=\"articleDel_id\" value=\""+Ee.id+"\" type=\"hidden\" data-rule=\"INTEGER,0,11\" class=\"hide\">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<a href=\"/article/add/"+Ee.slug+"\" class=\"btn type-3\">\u2699</a>\n\t\t\t\t\t\t<a href=\"*\" data-action=\"submit/articleDel\" class=\"btn type-2\">&times;</a>\n\t\t\t\t\t</div>":"";return Ee?(setTimeout(function(){return document.title="Cikk: "+Ee.title},100),Ie+"\n\t\t\t\t\t<div class=\"title\">"+Ee.title+"</div>\n\t\t\t\t\t<div class=\"content\">"+Ee.content+"</div>"):"<div class=\"content\"><div class=\"no_article\">... nem tal\xE1lhat\xF3 ez a cikk ...</div></div>"},articlePage:function articlePage(Le){var Ee=Le.categories,Ie=Le.selected,Te=Le.articles,Ce=2<ie.role?"<a href=\"/article/add\" class=\"add-link\"><div class=\"menu-icon add-icon\"></div></a>":"";setTimeout(function(){return document.title="Cikkek: "+Ee[Ie]},100);var ze="",Ae="",De=Object.keys(Ee),_iteratorNormalCompletion11=!0,_didIteratorError11=!1,_iteratorError11=void 0;try{for(var Be,Fe,je=De[Symbol.iterator]();!(_iteratorNormalCompletion11=(Be=je.next()).done);_iteratorNormalCompletion11=!0)(Fe=Be.value,Fe!=Ie)&&(ze+="<a href=\"/article/"+Fe+"\" title=\"Kiv\xE1laszt: "+Ee[Fe]+"\">"+Ee[Fe]+"</a>")}catch(He){_didIteratorError11=!0,_iteratorError11=He}finally{try{!_iteratorNormalCompletion11&&je.return&&je.return()}finally{if(_didIteratorError11)throw _iteratorError11}}if(Te.length){var _iteratorNormalCompletion12=!0,_didIteratorError12=!1,_iteratorError12=void 0;try{for(var qe,Ne,Me=Te[Symbol.iterator]();!(_iteratorNormalCompletion12=(qe=Me.next()).done);_iteratorNormalCompletion12=!0)Ne=qe.value,Ae+="<a href=\"/article/view/"+Ne.slug+"\">"+Ne.title+"</a>"}catch(He){_didIteratorError12=!0,_iteratorError12=He}finally{try{!_iteratorNormalCompletion12&&Me.return&&Me.return()}finally{if(_didIteratorError12)throw _iteratorError12}}}else Ae="<div class=\"no_article\">... nem tal\xE1lhat\xF3 egy cikk sem ...</div>";return"\n\t\t\t\t\t<input type=\"checkbox\" id=\"article_toggle\">\n\t\t\t\t\t<label for=\"article_toggle\"><a title=\""+Ee[Ie]+"\">"+Ee[Ie]+ze+"</a></label>\n\t\t\t\t\t"+Ce+"\n\t\t\t\t<div class=\"content\"><div>"+Ae+"</div></div>"},guestbookComment:function guestbookComment(){var _ref2=0<arguments.length&&void 0!==arguments[0]?arguments[0]:data,Le=_ref2.id,Ee=_ref2.name,Ie=_ref2.created,Te=_ref2.message,Ce=_ref2.status,ze=_ref2.userId,Ae=2<ie.role||ze==ie.userId&&0!=ze;return"<div class=\"comment\" id=\"comment_"+Le+"\">\n\t\t\t\t\t\t\t<span class=\"name\">"+Ee+"</span> <span class=\"time\">"+Ie+"</span>"+(function Me(Ne,je){return Ae?"<span class=\""+je+"\"><a href=\"*\" data-action=\"component/Guestbook/delete/"+Ne+"\">&times;</a></span>":""}(Le,"delete")+function qe(Ne,je){return Ae?"<span class=\""+je+"\"><a href=\"*\" data-action=\"component/Guestbook/fill/"+Ne+"\">&#9881;</a></span>":""}(Le,"edit",ze)+function De(Ne,je,Be){return Ae&&0==Be?"<span class=\""+je+"\"><a href=\"*\" data-action=\"component/Guestbook/activate/"+Ne+"\">&#10003;</a></span>":""}(Le,"approve",Ce))+"\n\t\t\t\t\t\t\t<div class=\"message\">"+Te+"</div>\n\t\t\t\t\t\t</div>"},guestbook:function guestbook(Le){var Ee=0===Le.length?"<br><center><h2>Nincs bejegyz\xE9s</h2></center>":"",Ie=void 0,_iteratorNormalCompletion13=!0,_didIteratorError13=!1,_iteratorError13=void 0;try{for(var Ae,ze=Le[Symbol.iterator]();!(_iteratorNormalCompletion13=(Ae=ze.next()).done);_iteratorNormalCompletion13=!0)Ie=Ae.value,Ee+=this.guestbookComment(Ie)}catch(De){_didIteratorError13=!0,_iteratorError13=De}finally{try{!_iteratorNormalCompletion13&&ze.return&&ze.return()}finally{if(_didIteratorError13)throw _iteratorError13}}return"<div class='content'>"+"<h1 class='title'><a href='*' data-action='component/Guestbook/newComment' title='\xDAj hozz\xE1sz\xF3l\xE1s \xEDr\xE1sa'> \xDAj hozz\xE1sz\xF3l\xE1s </a></h1>"+"<div id=\"addComment_Form\" data-method=\"POST\" data-action=\"guestbook/add\">\n\t\t\t\t\t\t\t<div class=\"modal-layer sm_blck_trnspnt_bg\"></div>\n\t\t\t\t\t\t\t<div class=\"form_window sm_blck_trnspnt_bg\">\n\t\t\t\t\t\t\t\t<h1>\xDAj hozz\xE1sz\xF3l\xE1s</h1><br>\n\t\t\t\t\t\t\t\t<input type=\"text\" placeholder=\"Nev\" id=\"addComment_name\" name=\"addComment_name\" data-rule=\"NAME_HUN,5,50\">\n\t\t\t\t\t\t\t\t<input type=\"text\" placeholder=\"email cim\" id=\"addComment_email\" name=\"addComment_email\" data-rule=\"EMAIL,5,50\">\n\t\t\t\t\t\t\t\t<input type=\"hidden\" id=\"addComment_id\" name=\"addComment_id\" data-rule=\"NUMBER,0,11\">\n\t\t\t\t\t\t\t\t<textarea placeholder=\"Uzenet\" id=\"addComment_message\" name=\"addComment_message\" data-rule=\"STRING,0,5000\"></textarea>\n\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t<a href=\"*\" data-action=\"component/Guestbook/add\"><button class=\"button col-gray reg\"> Rendben </button></a>\n\t\t\t\t\t\t\t\t<a href=\"*\" data-action=\"toggle/addComment_Form\"><button class=\"button col-gray reg\"> Megse </button></a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>"+Ee+"</div>"},getFullname:function getFullname(Le,Ee){return Le+" "+Ee},audioTableRow:function audioTableRow(Le){var Ee="",Ie=void 0,_iteratorNormalCompletion14=!0,_didIteratorError14=!1,_iteratorError14=void 0;try{for(var Ce,Te=Le[Symbol.iterator]();!(_iteratorNormalCompletion14=(Ce=Te.next()).done);_iteratorNormalCompletion14=!0)Ie=Ce.value,Ee+="<tr class=\"audio_id_"+Ie.id+"\">\n\t\t\t\t\t\t\t\t\t\t<td>"+Ie.title+"</td>\n\t\t\t\t\t\t\t\t\t\t<td>"+Ie.duration+"</td>\n\t\t\t\t\t\t\t\t\t\t<td>remove/edit</td>\n\t\t\t\t\t\t\t\t\t</tr>"}catch(ze){_didIteratorError14=!0,_iteratorError14=ze}finally{try{!_iteratorNormalCompletion14&&Te.return&&Te.return()}finally{if(_didIteratorError14)throw _iteratorError14}}return Ee},audioList:function audioList(Le){return"<div class=\"audioList\"><h1>Dics\xE9retek</h1>\n\t\t\t\t\t\t\t\t<table>"+this.audioTableRow(Le)+"</table>\n\t\t\t\t\t\t\t\t</div>"},pageContainer:function pageContainer(Le,Ee,Ie){return"<div class=\""+Le+"\"><div class=\""+Ee+" fadeOut\">"+Ie+"</div></div>"}};return function(){var Te,Ce,Ae,De,qe,Le=[["/home","Vissza a f\u0151oldalra","home","F\u0151oldal","",0],["/event","Esem\xE9nyek megtekint\xE9se","events","Napt\xE1r","",0],["/video","Vide\xF3k megtekint\xE9se","videos","Vide\xF3k","",0],["/gallery","K\xE9p gal\xE9ria megtekint\xE9se","albums","K\xE9pek","",0],["*","Dics\xE9retek halgat\xE1sa","worship","\xC9nekek","toggle/audioPlayer",2],["*","Dics\xE9retek halgat\xE1sa","worship","\xC9nekek","toggle/audioPlayer",1],["http://biblia.gyozelem.ro","Ugr\xE1s az Online Biblia oldalra","bible","Biblia","",0],["/guestbook","\xDCzen\u0151fal megtekint\xE9se","wall","\xDCzen\u0151fal","",0],["/article","Cikkek megtekint\xE9se","articles","Cikkek","",0],["/user","Felhaszn\xE1l\xF3k megtekint\xE9se","users","Felhaszn\xE1l\xF3k","",1],["*","\xDCzenetek megtekint\xE9se","messages",null,"component/messageCenter/toggle",1],["*","Be\xE1ll\xEDt\xE1sok megtekint\xE9se","settings",null,"component/settingsManager/toggle",1],["/user/logout","Kijelentkez\xE9s","logout",null,"",1],["/user/login","Bejelentkez\xE9s","login",null,"",2]],Ee={link:function link(Pe){var Ue="messages"===Pe[2]?"class=\"badge unreaded-msg\" data-count=\"0\"":"";return"<a href=\""+Pe[0]+"\" title=\""+Pe[1]+"\" data-action=\""+Pe[4]+"\" "+Ue+">"},icon:function icon(Pe){return"<div class=\"menu-icon "+Pe[2]+"-icon\"></div>"}},Ie={normal:{parent:["page-menu"],selector:[0],template:function template(Pe){return Ee.link(Pe)+" <span class=\"menuButton\">"+Ee.icon(Pe)+" <span class=\"buttonName\"> "+Pe[3]+" </span></span></a>"}},normal_log:{parent:[null,"page-logged","page-login"],selector:[1,2],template:function template(Pe){return Ee.link(Pe)+" "+Ee.icon(Pe)+" </a>"}},burger:{parent:["burger-menu","burger-logged","burger-login"],selector:[0,1,2],template:function template(Pe){return Ee.link(Pe)+" <span class=\"menuButton\"> "+Ee.icon(Pe)+"</span></a>"}}},je=Le.length,Be={},Fe=document.querySelector("#App"),He=Fe.innerHTML;Object.keys(Ie).forEach(function(Pe){for(Te=0;Te<je;Te++)(De=Ie[Pe].selector[Le[Te][5]],qe=Ie[Pe].parent[Le[Te][5]],!!qe)&&(Ce=0<Le[Te].length?Le[0].length-1:0,Ae=Ie[Pe].template(Le[Te]),Be[qe]=(Be[qe]||"")+Ae)}),Object.keys(Be).forEach(function(Pe){He=He.replace("<!--"+Pe+"-->",Be[Pe])}),Fe.innerHTML=He,he()}(),{getContent:function getContent(Le,Ee){return xe[Le](Ee)},render:function render(Le,Ee){if(!ye[Le].apply(ye,_toConsumableArray(Ee)))return console.log("multicall error: "+Le+" not exist")},multicall:function multicall(Le){var Ee;Le.forEach(function(Te){if(Ee=Te.pop(),"build"===Ee)we(Te);else{if(!ye[Ee])return console.log("multicall error: "+Ee+" not exist");ye[Ee].apply(ye,_toConsumableArray(Te))}})},build:function build(){var Le=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;we(Le)},visibility:function visibility(){he()},terminate:function terminate(){Se()}}},pe=new function(he){var fe=de.global;fe.pageContent=document.body.querySelector(".content.page"),he.add("redirect",function(ye){var be=ye.controller,ke=ye.action,xe=ye.param,we=de[be+"_"+ke]||null,Se=we?we.render||null:null;return de.current.dom&&me.terminate(),de.current.routeData=ye,we?void(Se&&(Se.model||Se.view)?Se.model&&("string"==typeof Se.model?(console.log("controller: redirect to model and get api data"),ce.getCustomData(Se.model,xe)):!0===Se.model&&(console.log("controller: redirect to model and get data"),ce.getPageData(be,ke,xe))):(console.log("controller: redirect to view for static page rendering, based on param"),me.build())):"missing page data"})}(se),ge=new function(){function he(){Ie=document.createElement("div"),Ie.className="notify-container",Ie.id=xe,document.body.appendChild(Ie)}function ve(Ce){var ze=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"normal",Ae=2<arguments.length&&arguments[2]!==void 0?arguments[2]:5,De="notification_"+Te;Ie||he();var Me=document.createElement("div"),qe=document.createElement("div");Me.className="notify"+" "+ze,Me.id=De,Me.innerHTML=Ce,Me.style.marginLeft=300+10+"px",Me.appendChild(qe),qe.className="close-notify",qe.innerHTML="&#10060;",qe.addEventListener("click",Le,!1),Ee[De]={id:De,message:Ce,type:ze,dom:Me,close:qe,timer:setTimeout(function(){ye(De)},1e3*Ae)},Ie.insertBefore(Me,Ie.firstChild),Te++}function fe(Ce){ye(Ce)}function ye(Ce){var ze=Ee[Ce].dom;ze.classList.add("fade-out"),ze.addEventListener("transitionend",Se,!1)}var xe="notifyContainer",Se=function(){var Ce=this.id,ze=Ee[Ce].dom,Ae=Ee[Ce].close;Ae.removeEventListener("click",Le),ze.removeEventListener("transitionend",Se),ze.removeChild(Ae),Ie.removeChild(ze),Ee[Ce].dom=null,Ee[Ce].notifyClose=null,clearTimeout(Ee[Ce].timer),delete Ee[Ce]},Le=function(){fe(this.parentElement.id)},Ee={},Ie=document.getElementById(xe),Te=0;return{add:function add(Ce){var ze=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"notice";ve(Ce,ze)}}};ue.init()})();
